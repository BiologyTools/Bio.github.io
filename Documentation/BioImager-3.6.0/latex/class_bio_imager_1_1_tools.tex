\hypertarget{class_bio_imager_1_1_tools}{}\doxysection{Bio\+Imager.\+Tools Class Reference}
\label{class_bio_imager_1_1_tools}\index{BioImager.Tools@{BioImager.Tools}}
Inheritance diagram for Bio\+Imager.\+Tools\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_bio_imager_1_1_tools}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_bio_imager_1_1_tools_a04fee41ebdb920095cee31b785ecefca}{Tools}} ()
\item 
void \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{Update\+Overlay}} ()
\item 
void \mbox{\hyperlink{class_bio_imager_1_1_tools_afedd0f2c3b4a31da715616268840b7b6}{Update\+View}} ()
\item 
void \mbox{\hyperlink{class_bio_imager_1_1_tools_a16a5aabb40065c4d44e459b662a57263}{Update\+Selected}} ()
\item 
void \mbox{\hyperlink{class_bio_imager_1_1_tools_ae842cc509d58015162b974ce9f34e2b9}{Tool\+Down}} (\mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}} e, Mouse\+Buttons buts)
\item 
void \mbox{\hyperlink{class_bio_imager_1_1_tools_a9349759786fba18c79f921bb6fcfaedc}{Tool\+Up}} (\mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}} e, Mouse\+Buttons buts)
\item 
void \mbox{\hyperlink{class_bio_imager_1_1_tools_a60173ccdfcfeefc2ed9d1c01b086860f}{Tool\+Move}} (\mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}} e, Mouse\+Buttons buts)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}} \mbox{\hyperlink{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}{Get\+Tool}} (string name)
\item 
static \mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}} \mbox{\hyperlink{class_bio_imager_1_1_tools_ad23024695d3e29901dbdb4bafdc6f8a7}{Get\+Tool}} (\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Tool.\+Type}} typ)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
Font \mbox{\hyperlink{class_bio_imager_1_1_tools_adc01c611fe18dc0be5855d278a5611b7}{font}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{class_bio_imager_1_1_tools_a2f863e5172c79ad86b0152d47a3499d2}{apply\+To\+Stack}} = false
\item 
static \mbox{\hyperlink{class_bio_imager_1_1_color_tool}{Color\+Tool}} \mbox{\hyperlink{class_bio_imager_1_1_tools_af3737edeb78a4c1fdf0d0cccbcfda9c0}{color\+Tool}}
\item 
static bool \mbox{\hyperlink{class_bio_imager_1_1_tools_adf1e7544227d9a9b3dc1fbbe6c1c7302}{r\+Enabled}} = true
\item 
static bool \mbox{\hyperlink{class_bio_imager_1_1_tools_ad5301c0a0cf93f489b5c97341aa16f1c}{g\+Enabled}} = true
\item 
static bool \mbox{\hyperlink{class_bio_imager_1_1_tools_a0bcad6715ac37f4911e26f95b73a26f3}{b\+Enabled}} = true
\item 
static \mbox{\hyperlink{_abstract_flood_filler_8cs_a8bfa98cfc43204ff8dd7743a94a22ea7}{Rectangle}} \mbox{\hyperlink{class_bio_imager_1_1_tools_ab5e99691f5f06cd112dd33f8e68ae738}{selection\+Rectangle}}
\item 
static Hashtable \mbox{\hyperlink{class_bio_imager_1_1_tools_abc4643eeb926aa3de77caa7499f20946}{tools}} = new Hashtable()
\item 
static \mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}} \mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{current\+Tool}}
\item 
static \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}} \mbox{\hyperlink{class_bio_imager_1_1_tools_a5092d87f8a10a37dc93949d883fe80ad}{selection\+Rect}}
\item 
static float \mbox{\hyperlink{class_bio_imager_1_1_tools_a50cd6db600bd8fb768ae21de544c412b}{select\+Box\+Size}} = ROI.\+select\+Box\+Size
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
override void \mbox{\hyperlink{class_bio_imager_1_1_tools_a35ba5e10df51ed6b8dcca1be8915ad5b}{Dispose}} (bool disposing)
\begin{DoxyCompactList}\small\item\em Clean up any resources being used.  \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Properties}
\begin{DoxyCompactItemize}
\item 
static ColorS \mbox{\hyperlink{class_bio_imager_1_1_tools_a972e555095388c33d504c030756c67c5}{Draw\+Color}}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\item 
static ColorS \mbox{\hyperlink{class_bio_imager_1_1_tools_ad9832a72f8a76e1e0b2da74052737bb6}{Erase\+Color}}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\item 
static int \mbox{\hyperlink{class_bio_imager_1_1_tools_a590eb41ebe2c3700c7370a89c1d3d868}{Stroke\+Width}}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{_tools_8cs_source_l00023}{23}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_a04fee41ebdb920095cee31b785ecefca}\label{class_bio_imager_1_1_tools_a04fee41ebdb920095cee31b785ecefca}} 
\index{BioImager.Tools@{BioImager.Tools}!Tools@{Tools}}
\index{Tools@{Tools}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{Tools()}{Tools()}}
{\footnotesize\ttfamily Bio\+Imager.\+Tools.\+Tools (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00168}{168}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00169         \{}
\DoxyCodeLine{00170             InitializeComponent();}
\DoxyCodeLine{00171             Tool.Init();}
\DoxyCodeLine{00172             ColorS col = \textcolor{keyword}{new} ColorS(ushort.MaxValue);}
\DoxyCodeLine{00173             \textcolor{comment}{//We initialize the tools}}
\DoxyCodeLine{00174             \mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}} = \mbox{\hyperlink{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}{GetTool}}(Tool.Type.move);}
\DoxyCodeLine{00175 }
\DoxyCodeLine{00176             floodFiller = \textcolor{keyword}{null};}
\DoxyCodeLine{00177             floodFiller = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_queue_linear_flood_filler}{QueueLinearFloodFiller}}(floodFiller);}
\DoxyCodeLine{00178         \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_a35ba5e10df51ed6b8dcca1be8915ad5b}\label{class_bio_imager_1_1_tools_a35ba5e10df51ed6b8dcca1be8915ad5b}} 
\index{BioImager.Tools@{BioImager.Tools}!Dispose@{Dispose}}
\index{Dispose@{Dispose}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{Dispose()}{Dispose()}}
{\footnotesize\ttfamily override void Bio\+Imager.\+Tools.\+Dispose (\begin{DoxyParamCaption}\item[{bool}]{disposing }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Clean up any resources being used.  


\begin{DoxyParams}{Parameters}
{\em disposing} & true if managed resources should be disposed; otherwise, false.\\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_tools_8_designer_8cs_source_l00014}{14}} of file \mbox{\hyperlink{_tools_8_designer_8cs_source}{Tools.\+Designer.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00015         \{}
\DoxyCodeLine{00016             \textcolor{keywordflow}{if} (disposing \&\& (components != \textcolor{keyword}{null}))}
\DoxyCodeLine{00017             \{}
\DoxyCodeLine{00018                 components.Dispose();}
\DoxyCodeLine{00019             \}}
\DoxyCodeLine{00020             base.Dispose(disposing);}
\DoxyCodeLine{00021         \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}\label{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}} 
\index{BioImager.Tools@{BioImager.Tools}!GetTool@{GetTool}}
\index{GetTool@{GetTool}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{GetTool()}{GetTool()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily static \mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}} Bio\+Imager.\+Tools.\+Get\+Tool (\begin{DoxyParamCaption}\item[{string}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00180}{180}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00181         \{}
\DoxyCodeLine{00182             \textcolor{keywordflow}{return} (Tool)\mbox{\hyperlink{class_bio_imager_1_1_tools_abc4643eeb926aa3de77caa7499f20946}{tools}}[name];}
\DoxyCodeLine{00183         \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_ad23024695d3e29901dbdb4bafdc6f8a7}\label{class_bio_imager_1_1_tools_ad23024695d3e29901dbdb4bafdc6f8a7}} 
\index{BioImager.Tools@{BioImager.Tools}!GetTool@{GetTool}}
\index{GetTool@{GetTool}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{GetTool()}{GetTool()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily static \mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}} Bio\+Imager.\+Tools.\+Get\+Tool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Tool.\+Type}}}]{typ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00184}{184}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00185         \{}
\DoxyCodeLine{00186             \textcolor{keywordflow}{return} (Tool)\mbox{\hyperlink{class_bio_imager_1_1_tools_abc4643eeb926aa3de77caa7499f20946}{tools}}[typ.ToString()];}
\DoxyCodeLine{00187         \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_ae842cc509d58015162b974ce9f34e2b9}\label{class_bio_imager_1_1_tools_ae842cc509d58015162b974ce9f34e2b9}} 
\index{BioImager.Tools@{BioImager.Tools}!ToolDown@{ToolDown}}
\index{ToolDown@{ToolDown}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{ToolDown()}{ToolDown()}}
{\footnotesize\ttfamily void Bio\+Imager.\+Tools.\+Tool\+Down (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}}]{e,  }\item[{Mouse\+Buttons}]{buts }\end{DoxyParamCaption})}

The function is called when the user clicks the mouse button. ~\newline
 The function checks if the user is using the line, polygon, freeform, rectangle, ellipse, delete, or text tool.

If the user is using the line tool, the function creates a new \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} object and adds it to the image\textquotesingle{}s annotations.

If the user is using the polygon tool, the function creates a new \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} object and adds it to the image\textquotesingle{}s annotations.

If the user is using the freeform tool, the function creates a new \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} object and adds it to the image\textquotesingle{}s annotations.

If the user is using the rectangle tool, the function creates a new \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} object and adds it to the image\textquotesingle{}s annotations.

If the user is using the ellipse tool, the function creates a new \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} object and adds it to the image\textquotesingle{}s annotations.

If


\begin{DoxyParams}{Parameters}
{\em PointD} & A point with double precision \\
\hline
{\em Mouse\+Buttons} & A set of values that indicate which mouse button was pressed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The return type is void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_tools_8cs_source_l00245}{245}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00246         \{}
\DoxyCodeLine{00247             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}} == \textcolor{keyword}{null} || \mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}} == \textcolor{keyword}{null} || \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}} == \textcolor{keyword}{null})}
\DoxyCodeLine{00248                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00249             \mbox{\hyperlink{class_bio_imager_1_1_scripting}{Scripting}}.\mbox{\hyperlink{class_bio_imager_1_1_scripting_ae1ff106fe8d534242c5a371d9fb87af2}{UpdateState}}(\mbox{\hyperlink{class_bio_imager_1_1_scripting}{Scripting}}.\mbox{\hyperlink{class_bio_imager_1_1_scripting_1_1_state}{State}}.\mbox{\hyperlink{class_bio_imager_1_1_scripting_1_1_state_a94e7a1c0470b1a767f4cd5679b85e3bd}{GetDown}}(e, buts));}
\DoxyCodeLine{00250             AForge.PointD p;}
\DoxyCodeLine{00251             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ab234b3c49dd701a02f569985b33f3d73}{HardwareAcceleration}})}
\DoxyCodeLine{00252                 p = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_aa2ad70d10cab194c788b23897f791fee}{ToImageSpace}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_ac4761fb3788fb8dd537171e2f0e79822}{Volume}}.Width -\/ e.X, \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_ac4761fb3788fb8dd537171e2f0e79822}{Volume}}.Height -\/ e.Y));}
\DoxyCodeLine{00253             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00254                 p = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_aa2ad70d10cab194c788b23897f791fee}{ToImageSpace}}(e);}
\DoxyCodeLine{00255             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.line \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00256             \{}
\DoxyCodeLine{00257                 \textcolor{keywordflow}{if} (anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a853f99e887f52fac0ca0475d68e706f8}{GetPointCount}}() == 0)}
\DoxyCodeLine{00258                 \{}
\DoxyCodeLine{00259                     anno = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00260                     anno.type = \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Line;}
\DoxyCodeLine{00261                     anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00262                     anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00263                     anno.coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00264                     \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Add(anno);}
\DoxyCodeLine{00265                 \}}
\DoxyCodeLine{00266             \}}
\DoxyCodeLine{00267             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00268             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.polygon \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00269             \{}
\DoxyCodeLine{00270                 \textcolor{keywordflow}{if} (anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a853f99e887f52fac0ca0475d68e706f8}{GetPointCount}}() == 0)}
\DoxyCodeLine{00271                 \{}
\DoxyCodeLine{00272                     anno = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00273                     anno.type = \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Polygon;}
\DoxyCodeLine{00274                     anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00275                     anno.coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00276                     \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Add(anno);}
\DoxyCodeLine{00277                 \}}
\DoxyCodeLine{00278                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00279                 \{}
\DoxyCodeLine{00280                     \textcolor{comment}{//If we click on a point 1 we close this polygon}}
\DoxyCodeLine{00281                     \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}} d = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}(e.X, e.Y, \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a73c701d32ce2a74985f99cfb93c4d728}{selectBoxSize}}, \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a73c701d32ce2a74985f99cfb93c4d728}{selectBoxSize}});}
\DoxyCodeLine{00282                     \textcolor{keywordflow}{if} (d.IntersectsWith(anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a9b3cf3860f470ca08a78afe86b957482}{Point}}))}
\DoxyCodeLine{00283                     \{}
\DoxyCodeLine{00284                         anno.closed = \textcolor{keyword}{true};}
\DoxyCodeLine{00285                         anno = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00286                     \}}
\DoxyCodeLine{00287                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00288                     \{}
\DoxyCodeLine{00289                         anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00290                     \}}
\DoxyCodeLine{00291                 \}}
\DoxyCodeLine{00292             \}}
\DoxyCodeLine{00293             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00294             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.freeform \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00295             \{}
\DoxyCodeLine{00296                 \textcolor{keywordflow}{if} (anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a853f99e887f52fac0ca0475d68e706f8}{GetPointCount}}() == 0)}
\DoxyCodeLine{00297                 \{}
\DoxyCodeLine{00298                     anno = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00299                     anno.type = \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Freeform;}
\DoxyCodeLine{00300                     anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00301                     anno.coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00302                     anno.closed = \textcolor{keyword}{true};}
\DoxyCodeLine{00303                     \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Add(anno);}
\DoxyCodeLine{00304                 \}}
\DoxyCodeLine{00305                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00306                 \{}
\DoxyCodeLine{00307                     anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00308                 \}}
\DoxyCodeLine{00309             \}}
\DoxyCodeLine{00310             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00311             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.rect \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00312             \{}
\DoxyCodeLine{00313                 anno.type = \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Rectangle;}
\DoxyCodeLine{00314                 anno.Rect = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}(e.X, e.Y, 1, 1);}
\DoxyCodeLine{00315                 anno.coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00316                 \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Add(anno);}
\DoxyCodeLine{00317             \}}
\DoxyCodeLine{00318             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00319             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.ellipse \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00320             \{}
\DoxyCodeLine{00321                 anno.type = \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Ellipse;}
\DoxyCodeLine{00322                 anno.Rect = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}(e.X, e.Y, 1, 1);}
\DoxyCodeLine{00323                 anno.coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00324                 \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Add(anno);}
\DoxyCodeLine{00325             \}}
\DoxyCodeLine{00326             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00327             \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.delete \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00328             \{}
\DoxyCodeLine{00329                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Count; i++)}
\DoxyCodeLine{00330                 \{}
\DoxyCodeLine{00331                     \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} an = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}[i];}
\DoxyCodeLine{00332                     \textcolor{keywordflow}{if} (an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a907af2ba9860b6648a7719e0e47b2694}{BoundingBox}}.IntersectsWith(e.X,e.Y))}
\DoxyCodeLine{00333                     \{}
\DoxyCodeLine{00334                         \textcolor{keywordflow}{if} (an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a01df68a37e4753925bad15bd95498c55}{selectedPoints}}.Count == 0)}
\DoxyCodeLine{00335                         \{}
\DoxyCodeLine{00336                             \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Remove(an);}
\DoxyCodeLine{00337                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00338                         \}}
\DoxyCodeLine{00339                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00340                         \textcolor{keywordflow}{if} (an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a01df68a37e4753925bad15bd95498c55}{selectedPoints}}.Count == 1 \&\& !(an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Polygon || an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Polyline || an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Freeform))}
\DoxyCodeLine{00341                         \{}
\DoxyCodeLine{00342                             \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Remove(an);}
\DoxyCodeLine{00343                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00344                         \}}
\DoxyCodeLine{00345                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00346                         \{}
\DoxyCodeLine{00347                             \textcolor{keywordflow}{if} (an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Polygon ||}
\DoxyCodeLine{00348                                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Polyline ||}
\DoxyCodeLine{00349                                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Freeform)}
\DoxyCodeLine{00350                             \{}
\DoxyCodeLine{00351                                 an.closed = \textcolor{keyword}{false};}
\DoxyCodeLine{00352                                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a1634479ff6317fca0d9b2cbbd06c8548}{RemovePoints}}(an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a01df68a37e4753925bad15bd95498c55}{selectedPoints}}.ToArray());}
\DoxyCodeLine{00353                                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00354                             \}}
\DoxyCodeLine{00355                         \}}
\DoxyCodeLine{00356                     \}}
\DoxyCodeLine{00357                 \}}
\DoxyCodeLine{00358                 \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00359             \}}
\DoxyCodeLine{00360             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00361             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.text \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00362             \{}
\DoxyCodeLine{00363                 \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} an = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00364                 an.type = \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Label;}
\DoxyCodeLine{00365                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00366                 an.coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00367                 \mbox{\hyperlink{class_bio_imager_1_1_text_input}{TextInput}} ti = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_text_input}{TextInput}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00368                 \textcolor{keywordflow}{if} (ti.ShowDialog() != DialogResult.OK)}
\DoxyCodeLine{00369                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00370                 an.family = ti.\mbox{\hyperlink{class_bio_imager_1_1_text_input_a04cb05d9ff39cb10c79608ea031621c2}{font}}.FontFamily.ToString();}
\DoxyCodeLine{00371                 an.fontSize = ti.\mbox{\hyperlink{class_bio_imager_1_1_text_input_a04cb05d9ff39cb10c79608ea031621c2}{font}}.Size;}
\DoxyCodeLine{00372                 an.strokeColor = AForge.Color.FromArgb(ti.\mbox{\hyperlink{class_bio_imager_1_1_text_input_a85fa4e5fc83f6a141b0cb27dbcc8f250}{color}}.R,ti.\mbox{\hyperlink{class_bio_imager_1_1_text_input_a85fa4e5fc83f6a141b0cb27dbcc8f250}{color}}.G,ti.\mbox{\hyperlink{class_bio_imager_1_1_text_input_a85fa4e5fc83f6a141b0cb27dbcc8f250}{color}}.B);}
\DoxyCodeLine{00373                 an.Text = ti.\mbox{\hyperlink{class_bio_imager_1_1_text_input_a0940231eb9e2357796754f16d1984cd3}{TextValue}};}
\DoxyCodeLine{00374                 \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Add(an);}
\DoxyCodeLine{00375             \}}
\DoxyCodeLine{00376             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00377             \textcolor{keywordflow}{if} (buts == MouseButtons.Middle || \mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.pan)}
\DoxyCodeLine{00378             \{}
\DoxyCodeLine{00379                 \mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}} = \mbox{\hyperlink{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}{GetTool}}(Tool.Type.pan);}
\DoxyCodeLine{00380                 \mbox{\hyperlink{class_bio_imager_1_1_tools_a16a5aabb40065c4d44e459b662a57263}{UpdateSelected}}();}
\DoxyCodeLine{00381                 panPanel.BackColor = System.Drawing.Color.LightGray;}
\DoxyCodeLine{00382                 Cursor.Current = Cursors.Hand;}
\DoxyCodeLine{00383             \}}
\DoxyCodeLine{00384             }
\DoxyCodeLine{00385             \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00386         \}        }

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_a60173ccdfcfeefc2ed9d1c01b086860f}\label{class_bio_imager_1_1_tools_a60173ccdfcfeefc2ed9d1c01b086860f}} 
\index{BioImager.Tools@{BioImager.Tools}!ToolMove@{ToolMove}}
\index{ToolMove@{ToolMove}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{ToolMove()}{ToolMove()}}
{\footnotesize\ttfamily void Bio\+Imager.\+Tools.\+Tool\+Move (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}}]{e,  }\item[{Mouse\+Buttons}]{buts }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00549}{549}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00550         \{}
\DoxyCodeLine{00551             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}} == \textcolor{keyword}{null})}
\DoxyCodeLine{00552                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00553             \mbox{\hyperlink{class_bio_imager_1_1_scripting}{Scripting}}.\mbox{\hyperlink{class_bio_imager_1_1_scripting_ae1ff106fe8d534242c5a371d9fb87af2}{UpdateState}}(\mbox{\hyperlink{class_bio_imager_1_1_scripting}{Scripting}}.\mbox{\hyperlink{class_bio_imager_1_1_scripting_1_1_state}{State}}.\mbox{\hyperlink{class_bio_imager_1_1_scripting_1_1_state_aa4d275f6e9ddb9e52d2cb7d5899901aa}{GetMove}}(e, buts));}
\DoxyCodeLine{00554             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.pan \&\& buts == MouseButtons.Left || buts == MouseButtons.Middle)}
\DoxyCodeLine{00555             \{}
\DoxyCodeLine{00556                 \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}} pf = \textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.X, e.Y -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.Y);}
\DoxyCodeLine{00557                 App.viewer.Origin = \textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(\mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a2f517343db7b1343c123766bfd3414af}{Origin}}.X + pf.X, \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a2f517343db7b1343c123766bfd3414af}{Origin}}.Y + pf.Y);}
\DoxyCodeLine{00558                 \mbox{\hyperlink{class_bio_imager_1_1_tools_afedd0f2c3b4a31da715616268840b7b6}{UpdateView}}();}
\DoxyCodeLine{00559             \}}
\DoxyCodeLine{00560             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}} == \textcolor{keyword}{null})}
\DoxyCodeLine{00561                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00562             AForge.PointD p;}
\DoxyCodeLine{00563             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ab234b3c49dd701a02f569985b33f3d73}{HardwareAcceleration}})}
\DoxyCodeLine{00564                 p = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_aa2ad70d10cab194c788b23897f791fee}{ToImageSpace}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_ac4761fb3788fb8dd537171e2f0e79822}{Volume}}.Width -\/ e.X, \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_ac4761fb3788fb8dd537171e2f0e79822}{Volume}}.Height -\/ e.Y));}
\DoxyCodeLine{00565             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00566                 p = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_aa2ad70d10cab194c788b23897f791fee}{ToImageSpace}}(e);}
\DoxyCodeLine{00567             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.line \&\& \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a01c43b6de45647c794b4569c4930bbbf}{down}})}
\DoxyCodeLine{00568             \{}
\DoxyCodeLine{00569                 anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a1387ae2d67ff917bb045d6cb7cc7520a}{UpdatePoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y), 1);}
\DoxyCodeLine{00570                 \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00571             \}}
\DoxyCodeLine{00572             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00573             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.freeform \&\& buts == MouseButtons.Left \&\& \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a01c43b6de45647c794b4569c4930bbbf}{down}})}
\DoxyCodeLine{00574             \{}
\DoxyCodeLine{00575                 \textcolor{keywordflow}{if} (anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a853f99e887f52fac0ca0475d68e706f8}{GetPointCount}}() == 0)}
\DoxyCodeLine{00576                 \{}
\DoxyCodeLine{00577                     anno.type = \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Freeform;}
\DoxyCodeLine{00578                     anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00579                     anno.coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00580                     anno.closed = \textcolor{keyword}{true};}
\DoxyCodeLine{00581                     \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Add(anno);}
\DoxyCodeLine{00582                 \}}
\DoxyCodeLine{00583                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00584                 \{}
\DoxyCodeLine{00585                     anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00586                 \}}
\DoxyCodeLine{00587                 \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00588             \}\textcolor{keywordflow}{else}}
\DoxyCodeLine{00589             }
\DoxyCodeLine{00590             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.rect \&\& anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Rectangle)}
\DoxyCodeLine{00591             \{}
\DoxyCodeLine{00592                 \textcolor{keywordflow}{if} (anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a853f99e887f52fac0ca0475d68e706f8}{GetPointCount}}() == 4)}
\DoxyCodeLine{00593                 \{}
\DoxyCodeLine{00594                     anno.Rect = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}(anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ac2f32646c4a908c624f1130147cba353}{X}}, anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_af607c90debc817b4ec5bffbd2418dc47}{Y}}, e.X -\/ anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ac2f32646c4a908c624f1130147cba353}{X}}, e.Y -\/ anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_af607c90debc817b4ec5bffbd2418dc47}{Y}});}
\DoxyCodeLine{00595                     \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00596                 \}}
\DoxyCodeLine{00597             \}}
\DoxyCodeLine{00598             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00599             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.ellipse \&\& anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Ellipse)}
\DoxyCodeLine{00600             \{}
\DoxyCodeLine{00601                 \textcolor{keywordflow}{if} (anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a853f99e887f52fac0ca0475d68e706f8}{GetPointCount}}() == 4)}
\DoxyCodeLine{00602                 \{}
\DoxyCodeLine{00603                     anno.Rect = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}(anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ac2f32646c4a908c624f1130147cba353}{X}}, anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_af607c90debc817b4ec5bffbd2418dc47}{Y}}, e.X -\/ anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ac2f32646c4a908c624f1130147cba353}{X}}, e.Y -\/ anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_af607c90debc817b4ec5bffbd2418dc47}{Y}});}
\DoxyCodeLine{00604                     \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00605                 \}}
\DoxyCodeLine{00606             \}}
\DoxyCodeLine{00607             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00608             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.rectSel \&\& buts == MouseButtons.Left \&\& \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a01c43b6de45647c794b4569c4930bbbf}{down}})}
\DoxyCodeLine{00609             \{}
\DoxyCodeLine{00610                 \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}} d = \textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.X, e.Y -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.Y);}
\DoxyCodeLine{00611                 \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}{GetTool}}(\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.rectSel).\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a66c52420645d624c1777c2a6d1a3bc77}{Rectangle}} = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}(\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.X, \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.Y, d.X, d.Y);}
\DoxyCodeLine{00612                 \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}} r = \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}{GetTool}}(\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.rectSel).\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a66c52420645d624c1777c2a6d1a3bc77}{Rectangle}};}
\DoxyCodeLine{00613                 \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} an \textcolor{keywordflow}{in} \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a16622486a15f53087df5854a6ae80f5e}{AnnotationsRGB}})}
\DoxyCodeLine{00614                 \{}
\DoxyCodeLine{00615                     \textcolor{keywordflow}{if} (an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_adb8e58e4d90e19466224bc3511a545d0}{GetSelectBound}}(\mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a1ffb4cd49b5f34d5de8fd6a53fe71dea}{GetScale}}(), \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a1ffb4cd49b5f34d5de8fd6a53fe71dea}{GetScale}}()).IntersectsWith(r))}
\DoxyCodeLine{00616                     \{}
\DoxyCodeLine{00617                         an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a01df68a37e4753925bad15bd95498c55}{selectedPoints}}.Clear();}
\DoxyCodeLine{00618                         \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_aa8b585900454f0994e1dc6f441de171c}{selectedAnnotations}}.Add(an);}
\DoxyCodeLine{00619                         an.selected = \textcolor{keyword}{true};}
\DoxyCodeLine{00620                         \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}[] sels = an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a3641a95fdd24e686e66177ab116a9da8}{GetSelectBoxes}}(\mbox{\hyperlink{class_bio_imager_1_1_tools_a50cd6db600bd8fb768ae21de544c412b}{selectBoxSize}});}
\DoxyCodeLine{00621                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < sels.Length; i++)}
\DoxyCodeLine{00622                         \{}
\DoxyCodeLine{00623                             \textcolor{keywordflow}{if} (sels[i].IntersectsWith(r))}
\DoxyCodeLine{00624                             \{}
\DoxyCodeLine{00625                                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a01df68a37e4753925bad15bd95498c55}{selectedPoints}}.Add(i);}
\DoxyCodeLine{00626                             \}}
\DoxyCodeLine{00627                         \}}
\DoxyCodeLine{00628                     \}}
\DoxyCodeLine{00629                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00630                         an.selected = \textcolor{keyword}{false};}
\DoxyCodeLine{00631                 \}}
\DoxyCodeLine{00632                 \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00633             \}}
\DoxyCodeLine{00634             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00635             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.rectSel \&\& \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a35208a7e8d7d5c4e7031fd3f8f4bf426}{up}})}
\DoxyCodeLine{00636             \{}
\DoxyCodeLine{00637                 \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}{GetTool}}(\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.rectSel).\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a66c52420645d624c1777c2a6d1a3bc77}{Rectangle}} = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}(0, 0, 0, 0);}
\DoxyCodeLine{00638             \}}
\DoxyCodeLine{00639             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00640             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_win32}{Win32}}.\mbox{\hyperlink{class_bio_imager_1_1_win32_a2182c75d53a6286ff15adf45f8bddec5}{GetKeyState}}(Keys.Delete))}
\DoxyCodeLine{00641             \{}
\DoxyCodeLine{00642                 \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} an \textcolor{keywordflow}{in} \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_aa8b585900454f0994e1dc6f441de171c}{selectedAnnotations}})}
\DoxyCodeLine{00643                 \{}
\DoxyCodeLine{00644                     \textcolor{keywordflow}{if} (an != \textcolor{keyword}{null})}
\DoxyCodeLine{00645                     \{}
\DoxyCodeLine{00646                         \textcolor{keywordflow}{if} (an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a01df68a37e4753925bad15bd95498c55}{selectedPoints}}.Count == 0)}
\DoxyCodeLine{00647                         \{}
\DoxyCodeLine{00648                             \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Remove(an);}
\DoxyCodeLine{00649                         \}}
\DoxyCodeLine{00650                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00651                         \{}
\DoxyCodeLine{00652                             \textcolor{keywordflow}{if} (an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Polygon ||}
\DoxyCodeLine{00653                                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Polyline ||}
\DoxyCodeLine{00654                                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Freeform)}
\DoxyCodeLine{00655                             \{}
\DoxyCodeLine{00656                                 an.closed = \textcolor{keyword}{false};}
\DoxyCodeLine{00657                                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a1634479ff6317fca0d9b2cbbd06c8548}{RemovePoints}}(an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a01df68a37e4753925bad15bd95498c55}{selectedPoints}}.ToArray());}
\DoxyCodeLine{00658                                 }
\DoxyCodeLine{00659                             \}}
\DoxyCodeLine{00660                         \}}
\DoxyCodeLine{00661                     \}}
\DoxyCodeLine{00662                 \}}
\DoxyCodeLine{00663                 \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00664             \}}
\DoxyCodeLine{00665 }
\DoxyCodeLine{00666             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.magic \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00667             \{}
\DoxyCodeLine{00668                 \textcolor{comment}{//First we draw the selection rectangle}}
\DoxyCodeLine{00669                 \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}} d = \textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.X, e.Y -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.Y);}
\DoxyCodeLine{00670                 \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}{GetTool}}(\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.rectSel).\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a66c52420645d624c1777c2a6d1a3bc77}{Rectangle}} = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}(\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.X, \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.Y, d.X, d.Y);}
\DoxyCodeLine{00671                 \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00672             \}}
\DoxyCodeLine{00673             }
\DoxyCodeLine{00674             \textcolor{keywordflow}{if} (buts == MouseButtons.Left \&\& \mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.eraser)}
\DoxyCodeLine{00675             \{}
\DoxyCodeLine{00676                 \mbox{\hyperlink{class_bio_imager_1_1_graphics_1_1_graphics}{Graphics.Graphics}} g = \mbox{\hyperlink{class_bio_imager_1_1_graphics_1_1_graphics}{Graphics}}.Graphics.\mbox{\hyperlink{class_bio_imager_1_1_graphics_1_1_graphics_adc254725fe47f2ff9a92087a75b1f2d9}{FromImage}}(\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adbff0750ef86a9c0bcd1da94a02e581c}{SelectedBuffer}});}
\DoxyCodeLine{00677                 \mbox{\hyperlink{struct_bio_imager_1_1_graphics_1_1_pen}{Graphics.Pen}} pen = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_graphics_1_1_graphics}{Graphics}}.Pen(\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_ad9832a72f8a76e1e0b2da74052737bb6}{EraseColor}}, (\textcolor{keywordtype}{int})\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a590eb41ebe2c3700c7370a89c1d3d868}{StrokeWidth}},\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adbff0750ef86a9c0bcd1da94a02e581c}{SelectedBuffer}}.BitsPerPixel);}
\DoxyCodeLine{00678                 g.\mbox{\hyperlink{class_bio_imager_1_1_graphics_1_1_graphics_a651c36c22ac5f1d28d2a90aa20458889}{FillEllipse}}(\textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_a8bfa98cfc43204ff8dd7743a94a22ea7}{Rectangle}}((\textcolor{keywordtype}{int})p.X, (\textcolor{keywordtype}{int})p.Y, (\textcolor{keywordtype}{int})width, (\textcolor{keywordtype}{int})\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a590eb41ebe2c3700c7370a89c1d3d868}{StrokeWidth}}), pen.\mbox{\hyperlink{struct_bio_imager_1_1_graphics_1_1_pen_a27ce8d0ae49aede1f8d93e511bffc666}{color}});}
\DoxyCodeLine{00679                 pen.\mbox{\hyperlink{struct_bio_imager_1_1_graphics_1_1_pen_ab43f330ea575d1ac166d56f28cc864ab}{Dispose}}();}
\DoxyCodeLine{00680                 \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a0e9084cef81901f6353ff8837a7f2f7a}{UpdateImage}}();}
\DoxyCodeLine{00681             \}}
\DoxyCodeLine{00682         \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_a9349759786fba18c79f921bb6fcfaedc}\label{class_bio_imager_1_1_tools_a9349759786fba18c79f921bb6fcfaedc}} 
\index{BioImager.Tools@{BioImager.Tools}!ToolUp@{ToolUp}}
\index{ToolUp@{ToolUp}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{ToolUp()}{ToolUp()}}
{\footnotesize\ttfamily void Bio\+Imager.\+Tools.\+Tool\+Up (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}}]{e,  }\item[{Mouse\+Buttons}]{buts }\end{DoxyParamCaption})}

The function \mbox{\hyperlink{class_bio_imager_1_1_tools_a9349759786fba18c79f921bb6fcfaedc}{Tool\+Up()}} is called when the mouse button is released


\begin{DoxyParams}{Parameters}
{\em PointD} & X,Y \\
\hline
{\em Mouse\+Buttons} & Left, Right, Middle, XButton1, XButton2\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a RectangleF. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_tools_8cs_source_l00393}{393}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00394         \{}
\DoxyCodeLine{00395             \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}} p;}
\DoxyCodeLine{00396             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ab234b3c49dd701a02f569985b33f3d73}{HardwareAcceleration}})}
\DoxyCodeLine{00397                 p = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_aa2ad70d10cab194c788b23897f791fee}{ToImageSpace}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_ac4761fb3788fb8dd537171e2f0e79822}{Volume}}.Width -\/ e.X, \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_ac4761fb3788fb8dd537171e2f0e79822}{Volume}}.Height -\/ e.Y));}
\DoxyCodeLine{00398             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00399                 p = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_aa2ad70d10cab194c788b23897f791fee}{ToImageSpace}}(e);}
\DoxyCodeLine{00400             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}} == \textcolor{keyword}{null} || \mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}} == \textcolor{keyword}{null} || \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}} == \textcolor{keyword}{null} || anno == \textcolor{keyword}{null})}
\DoxyCodeLine{00401                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00402             \mbox{\hyperlink{class_bio_imager_1_1_scripting}{Scripting}}.\mbox{\hyperlink{class_bio_imager_1_1_scripting_ae1ff106fe8d534242c5a371d9fb87af2}{UpdateState}}(\mbox{\hyperlink{class_bio_imager_1_1_scripting}{Scripting}}.\mbox{\hyperlink{class_bio_imager_1_1_scripting_1_1_state}{State}}.\mbox{\hyperlink{class_bio_imager_1_1_scripting_1_1_state_ac54c1ddd27e45c5afa90c7cc017ad894}{GetUp}}(e, buts));}
\DoxyCodeLine{00403             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.point \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00404             \{}
\DoxyCodeLine{00405                 \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} an = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00406                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93a062714521b3aaad197972bcf4e508}{AddPoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y));}
\DoxyCodeLine{00407                 an.type = \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Point;}
\DoxyCodeLine{00408                 an.coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00409                 \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Add(an);}
\DoxyCodeLine{00410             \}}
\DoxyCodeLine{00411             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00412             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.line \&\& anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Line \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00413             \{}
\DoxyCodeLine{00414                 \textcolor{keywordflow}{if} (anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a853f99e887f52fac0ca0475d68e706f8}{GetPointCount}}() > 0)}
\DoxyCodeLine{00415                 \{}
\DoxyCodeLine{00416                     anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a1387ae2d67ff917bb045d6cb7cc7520a}{UpdatePoint}}(\textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(e.X, e.Y), 1);}
\DoxyCodeLine{00417                     anno = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00418                 \}}
\DoxyCodeLine{00419             \}}
\DoxyCodeLine{00420             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00421             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.rect \&\& anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Rectangle \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00422             \{}
\DoxyCodeLine{00423                 \textcolor{keywordflow}{if} (anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a853f99e887f52fac0ca0475d68e706f8}{GetPointCount}}() == 4)}
\DoxyCodeLine{00424                 \{}
\DoxyCodeLine{00425                     anno = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00426                 \}}
\DoxyCodeLine{00427             \}}
\DoxyCodeLine{00428             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00429             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.ellipse \&\& anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Ellipse \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00430             \{}
\DoxyCodeLine{00431                 \textcolor{keywordflow}{if} (anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a853f99e887f52fac0ca0475d68e706f8}{GetPointCount}}() == 4)}
\DoxyCodeLine{00432                 \{}
\DoxyCodeLine{00433                     anno = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00434                 \}}
\DoxyCodeLine{00435             \}}
\DoxyCodeLine{00436             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00437             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.freeform \&\& anno.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a93907d7969bd22f5829279f82e2072a2}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_ae025c2526cc6f7661a9b25f10f6a5c14}{Type}}.Freeform \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00438             \{}
\DoxyCodeLine{00439                 anno = \textcolor{keyword}{new} \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}();}
\DoxyCodeLine{00440             \}}
\DoxyCodeLine{00441             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00442             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == Tool.Type.rectSel \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00443             \{}
\DoxyCodeLine{00444                 \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_aa8b585900454f0994e1dc6f441de171c}{selectedAnnotations}}.Clear();}
\DoxyCodeLine{00445                 \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}} r = \mbox{\hyperlink{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}{GetTool}}(Tool.Type.rectSel).\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a66c52420645d624c1777c2a6d1a3bc77}{Rectangle}};}
\DoxyCodeLine{00446                 \textcolor{keywordflow}{foreach} (\mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} an \textcolor{keywordflow}{in} \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a16622486a15f53087df5854a6ae80f5e}{AnnotationsRGB}})}
\DoxyCodeLine{00447                 \{}
\DoxyCodeLine{00448                     \textcolor{keywordflow}{if} (an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_adb8e58e4d90e19466224bc3511a545d0}{GetSelectBound}}(\mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a1ffb4cd49b5f34d5de8fd6a53fe71dea}{GetScale}}(), \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a1ffb4cd49b5f34d5de8fd6a53fe71dea}{GetScale}}()).ToRectangleF().IntersectsWith(r.ToRectangleF()))}
\DoxyCodeLine{00449                     \{}
\DoxyCodeLine{00450                         an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a01df68a37e4753925bad15bd95498c55}{selectedPoints}}.Clear();}
\DoxyCodeLine{00451                         \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_aa8b585900454f0994e1dc6f441de171c}{selectedAnnotations}}.Add(an);}
\DoxyCodeLine{00452                         an.selected = \textcolor{keyword}{true};}
\DoxyCodeLine{00453                         \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}[] sels = an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a3641a95fdd24e686e66177ab116a9da8}{GetSelectBoxes}}(\mbox{\hyperlink{class_bio_imager_1_1_tools_a50cd6db600bd8fb768ae21de544c412b}{selectBoxSize}});}
\DoxyCodeLine{00454                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < sels.Length; i++)}
\DoxyCodeLine{00455                         \{}
\DoxyCodeLine{00456                             \textcolor{keywordflow}{if} (sels[i].IntersectsWith(r))}
\DoxyCodeLine{00457                             \{}
\DoxyCodeLine{00458                                 an.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a01df68a37e4753925bad15bd95498c55}{selectedPoints}}.Add(i);}
\DoxyCodeLine{00459                             \}}
\DoxyCodeLine{00460                         \}}
\DoxyCodeLine{00461                     \}}
\DoxyCodeLine{00462                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00463                         an.selected = \textcolor{keyword}{false};}
\DoxyCodeLine{00464                 \}}
\DoxyCodeLine{00465                 \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a295b93aa24e05f238662e4222eb0f84f}{GetTool}}(\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.rectSel).\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a66c52420645d624c1777c2a6d1a3bc77}{Rectangle}} = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}}(0, 0, 0, 0);}
\DoxyCodeLine{00466             \}}
\DoxyCodeLine{00467             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00468             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.magic \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00469             \{}
\DoxyCodeLine{00470                 \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}} pf = \textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adbc94b6d14c3d295a4cb73866698189a}{mouseUp}}.X -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.X, \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adbc94b6d14c3d295a4cb73866698189a}{mouseUp}}.Y -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.Y);}
\DoxyCodeLine{00471                 ZCT coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00472 }
\DoxyCodeLine{00473                 \mbox{\hyperlink{_abstract_flood_filler_8cs_a8bfa98cfc43204ff8dd7743a94a22ea7}{Rectangle}} r = \textcolor{keyword}{new} \mbox{\hyperlink{_abstract_flood_filler_8cs_a8bfa98cfc43204ff8dd7743a94a22ea7}{Rectangle}}((\textcolor{keywordtype}{int})\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.X, (\textcolor{keywordtype}{int})\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.Y, (\textcolor{keywordtype}{int})(\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adbc94b6d14c3d295a4cb73866698189a}{mouseUp}}.X -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.X), (\textcolor{keywordtype}{int})(\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adbc94b6d14c3d295a4cb73866698189a}{mouseUp}}.Y -\/ \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_ad641c1e95182e668cf22291132e90f67}{mouseDown}}.Y));}
\DoxyCodeLine{00474                 \textcolor{keywordflow}{if} (r.Width <= 2 || r.Height <= 2)}
\DoxyCodeLine{00475                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00476                 AForge.Bitmap bf = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_a32c74a283e413d632db9ed3043ea3fac}{Buffers}}[\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_a9042d1e9d539df9744d4bfef6eeece50}{Coords}}[coord.Z, coord.C, coord.T]].GetCropBuffer(r);}
\DoxyCodeLine{00477                 Statistics[] sts = Statistics.FromBytes(bf);}
\DoxyCodeLine{00478                 Statistics st = sts[0];}
\DoxyCodeLine{00479                 Threshold th;}
\DoxyCodeLine{00480                 \textcolor{keywordflow}{if} (magicSel.\mbox{\hyperlink{class_bio_imager_1_1_magic_select_a72d5ca6d07277631d8efd696355af059}{Numeric}})}
\DoxyCodeLine{00481                 \{}
\DoxyCodeLine{00482                     th = \textcolor{keyword}{new} Threshold((\textcolor{keywordtype}{int})magicSel.\mbox{\hyperlink{class_bio_imager_1_1_magic_select_a307669188b768d739d4b71883774d479}{Threshold}});}
\DoxyCodeLine{00483                 \}}
\DoxyCodeLine{00484                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00485                 \textcolor{keywordflow}{if} (magicSel.\mbox{\hyperlink{class_bio_imager_1_1_magic_select_a879741fc2147351d6f492a0da46df884}{Index}} == 2)}
\DoxyCodeLine{00486                     th = \textcolor{keyword}{new} Threshold((\textcolor{keywordtype}{int})(st.Min + st.Mean));}
\DoxyCodeLine{00487                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00488                 \textcolor{keywordflow}{if} (magicSel.\mbox{\hyperlink{class_bio_imager_1_1_magic_select_a879741fc2147351d6f492a0da46df884}{Index}} == 1)}
\DoxyCodeLine{00489                     th = \textcolor{keyword}{new} Threshold((\textcolor{keywordtype}{int})st.Median);}
\DoxyCodeLine{00490                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00491                     th = \textcolor{keyword}{new} Threshold(st.Min);}
\DoxyCodeLine{00492                 th.ApplyInPlace(bf);}
\DoxyCodeLine{00493                 Invert inv = \textcolor{keyword}{new} Invert();}
\DoxyCodeLine{00494                 AForge.Bitmap det;}
\DoxyCodeLine{00495                 \textcolor{keywordflow}{if} (bf.BitsPerPixel > 8)}
\DoxyCodeLine{00496                     det = AForge.Imaging.Image.Convert16bppTo8bpp(bf);}
\DoxyCodeLine{00497                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00498                     det = bf;}
\DoxyCodeLine{00499                 BlobCounter blobCounter = \textcolor{keyword}{new} BlobCounter();}
\DoxyCodeLine{00500                 blobCounter.ProcessImage(det);}
\DoxyCodeLine{00501                 Blob[] blobs = blobCounter.GetObjectsInformation();}
\DoxyCodeLine{00502                 \textcolor{comment}{// create convex hull searching algorithm}}
\DoxyCodeLine{00503                 GrahamConvexHull hullFinder = \textcolor{keyword}{new} GrahamConvexHull();}
\DoxyCodeLine{00504                 \textcolor{comment}{// lock image to draw on it}}
\DoxyCodeLine{00505                 \textcolor{comment}{// process each blob}}
\DoxyCodeLine{00506                 \textcolor{keywordflow}{foreach} (Blob blob \textcolor{keywordflow}{in} blobs)}
\DoxyCodeLine{00507                 \{}
\DoxyCodeLine{00508                     \textcolor{keywordflow}{if} (blob.Rectangle.Width < magicSel.\mbox{\hyperlink{class_bio_imager_1_1_magic_select_a8cfc6df7b1b0551ac45f47035d7a2bf5}{Max}} \&\& blob.Rectangle.Height < magicSel.\mbox{\hyperlink{class_bio_imager_1_1_magic_select_a8cfc6df7b1b0551ac45f47035d7a2bf5}{Max}})}
\DoxyCodeLine{00509                         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00510                     List<IntPoint> leftPoints = \textcolor{keyword}{new} List<IntPoint>();}
\DoxyCodeLine{00511                     List<IntPoint> rightPoints = \textcolor{keyword}{new} List<IntPoint>();}
\DoxyCodeLine{00512                     List<IntPoint> edgePoints = \textcolor{keyword}{new} List<IntPoint>();}
\DoxyCodeLine{00513                     List<IntPoint> hull = \textcolor{keyword}{new} List<IntPoint>();}
\DoxyCodeLine{00514                     \textcolor{comment}{// get blob's edge points}}
\DoxyCodeLine{00515                     blobCounter.GetBlobsLeftAndRightEdges(blob,}
\DoxyCodeLine{00516                         out leftPoints, out rightPoints);}
\DoxyCodeLine{00517                     edgePoints.AddRange(leftPoints);}
\DoxyCodeLine{00518                     edgePoints.AddRange(rightPoints);}
\DoxyCodeLine{00519                     \textcolor{comment}{// blob's convex hull}}
\DoxyCodeLine{00520                     hull = hullFinder.FindHull(edgePoints);}
\DoxyCodeLine{00521                     \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}[] pfs = \textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}[hull.Count];}
\DoxyCodeLine{00522                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < hull.Count; i++)}
\DoxyCodeLine{00523                     \{}
\DoxyCodeLine{00524                         pfs[i] = \textcolor{keyword}{new} \mbox{\hyperlink{_microscope_8cs_a40ad24a6b4c995cdf7ce359c4fab62d1}{PointD}}(r.X + hull[i].X, r.Y + hull[i].Y);}
\DoxyCodeLine{00525                     \}}
\DoxyCodeLine{00526                     \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}} an = \mbox{\hyperlink{class_bio_imager_1_1_r_o_i}{ROI}}.\mbox{\hyperlink{class_bio_imager_1_1_r_o_i_a232355d0b13334666c78304397be6c83}{CreateFreeform}}(coord, pfs);}
\DoxyCodeLine{00527                     \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_adf7eca00ac7fb2d3fb0e20d6334e5123}{Annotations}}.Add(an);}
\DoxyCodeLine{00528                 \}}
\DoxyCodeLine{00529             \}}
\DoxyCodeLine{00530             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00531             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.bucket \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00532             \{}
\DoxyCodeLine{00533                 ZCT coord = \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a4f79d964828de0096a607e844e738e6c}{GetCoordinate}}();}
\DoxyCodeLine{00534                 floodFiller.FillColor = \mbox{\hyperlink{class_bio_imager_1_1_tools_a972e555095388c33d504c030756c67c5}{DrawColor}};}
\DoxyCodeLine{00535                 floodFiller.Tolerance = \mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_acae5ec5178d1048f9a71a431c1b52a58}{tolerance}};}
\DoxyCodeLine{00536                 floodFiller.Bitmap = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_a32c74a283e413d632db9ed3043ea3fac}{Buffers}}[\mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adb4c06232fd38edebbac614378efd9b8}{SelectedImage}}.\mbox{\hyperlink{class_bio_imager_1_1_bio_image_a9042d1e9d539df9744d4bfef6eeece50}{Coords}}[coord.C, coord.Z, coord.T]];}
\DoxyCodeLine{00537                 floodFiller.\mbox{\hyperlink{class_bio_imager_1_1_abstract_flood_filler_a46cfc2e7c016aaedbb2c81bc8594fa5e}{FloodFill}}(\textcolor{keyword}{new} AForge.Point((\textcolor{keywordtype}{int})p.X, (\textcolor{keywordtype}{int})p.Y));}
\DoxyCodeLine{00538                 \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_af4c1a4575ab3b0f0fdc92eaba9299f2b}{UpdateImages}}();}
\DoxyCodeLine{00539             \}}
\DoxyCodeLine{00540             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00541             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}{currentTool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_a5e721730b4e143c935edeebaaeceaca0}{type}} == \mbox{\hyperlink{class_bio_imager_1_1_tools}{Tools}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}}.\mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool_aab606b248da3369951052b2d71e2e74c}{Type}}.dropper \&\& buts == MouseButtons.Left)}
\DoxyCodeLine{00542             \{}
\DoxyCodeLine{00543                 \mbox{\hyperlink{class_bio_imager_1_1_tools_a972e555095388c33d504c030756c67c5}{DrawColor}} = \mbox{\hyperlink{class_bio_imager_1_1_image_view}{ImageView}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adbff0750ef86a9c0bcd1da94a02e581c}{SelectedBuffer}}.GetPixel((\textcolor{keywordtype}{int})p.X,(\textcolor{keywordtype}{int})p.Y);}
\DoxyCodeLine{00544                 UpdateGUI();}
\DoxyCodeLine{00545             \}}
\DoxyCodeLine{00546             \mbox{\hyperlink{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}{UpdateOverlay}}();}
\DoxyCodeLine{00547         \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}\label{class_bio_imager_1_1_tools_af0e96743246ad4734d223079bfd31629}} 
\index{BioImager.Tools@{BioImager.Tools}!UpdateOverlay@{UpdateOverlay}}
\index{UpdateOverlay@{UpdateOverlay}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{UpdateOverlay()}{UpdateOverlay()}}
{\footnotesize\ttfamily void Bio\+Imager.\+Tools.\+Update\+Overlay (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00188}{188}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00189         \{}
\DoxyCodeLine{00190             \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_a7cb44ed22361eaf2baf2b3ce79aed3d6}{UpdateOverlay}}();}
\DoxyCodeLine{00191         \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_a16a5aabb40065c4d44e459b662a57263}\label{class_bio_imager_1_1_tools_a16a5aabb40065c4d44e459b662a57263}} 
\index{BioImager.Tools@{BioImager.Tools}!UpdateSelected@{UpdateSelected}}
\index{UpdateSelected@{UpdateSelected}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{UpdateSelected()}{UpdateSelected()}}
{\footnotesize\ttfamily void Bio\+Imager.\+Tools.\+Update\+Selected (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

It loops through all the controls in the form and if the control has a tag of \char`\"{}tool\char`\"{} it sets the background color to white 

Definition at line \mbox{\hyperlink{_tools_8cs_source_l00198}{198}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00199         \{}
\DoxyCodeLine{00200             \textcolor{keywordflow}{foreach} (Control item \textcolor{keywordflow}{in} this.Controls)}
\DoxyCodeLine{00201             \{}
\DoxyCodeLine{00202                 \textcolor{keywordflow}{if}(item.Tag != \textcolor{keyword}{null})}
\DoxyCodeLine{00203                 \textcolor{keywordflow}{if}(item.Tag.ToString() == \textcolor{stringliteral}{"{}tool"{}})}
\DoxyCodeLine{00204                 item.BackColor = System.Drawing.Color.White;}
\DoxyCodeLine{00205             \}}
\DoxyCodeLine{00206         \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_afedd0f2c3b4a31da715616268840b7b6}\label{class_bio_imager_1_1_tools_afedd0f2c3b4a31da715616268840b7b6}} 
\index{BioImager.Tools@{BioImager.Tools}!UpdateView@{UpdateView}}
\index{UpdateView@{UpdateView}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{UpdateView()}{UpdateView()}}
{\footnotesize\ttfamily void Bio\+Imager.\+Tools.\+Update\+View (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00192}{192}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00193         \{}
\DoxyCodeLine{00194             \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_ae9ab2de046e738999cfbbccb0d3c1c3e}{viewer}}.\mbox{\hyperlink{class_bio_imager_1_1_image_view_adc65e6e60745ab28f68c3e63642f547e}{UpdateView}}();}
\DoxyCodeLine{00195         \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_a2f863e5172c79ad86b0152d47a3499d2}\label{class_bio_imager_1_1_tools_a2f863e5172c79ad86b0152d47a3499d2}} 
\index{BioImager.Tools@{BioImager.Tools}!applyToStack@{applyToStack}}
\index{applyToStack@{applyToStack}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{applyToStack}{applyToStack}}
{\footnotesize\ttfamily bool Bio\+Imager.\+Tools.\+apply\+To\+Stack = false\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00025}{25}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_a0bcad6715ac37f4911e26f95b73a26f3}\label{class_bio_imager_1_1_tools_a0bcad6715ac37f4911e26f95b73a26f3}} 
\index{BioImager.Tools@{BioImager.Tools}!bEnabled@{bEnabled}}
\index{bEnabled@{bEnabled}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{bEnabled}{bEnabled}}
{\footnotesize\ttfamily bool Bio\+Imager.\+Tools.\+b\+Enabled = true\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00029}{29}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_af3737edeb78a4c1fdf0d0cccbcfda9c0}\label{class_bio_imager_1_1_tools_af3737edeb78a4c1fdf0d0cccbcfda9c0}} 
\index{BioImager.Tools@{BioImager.Tools}!colorTool@{colorTool}}
\index{colorTool@{colorTool}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{colorTool}{colorTool}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_bio_imager_1_1_color_tool}{Color\+Tool}} Bio\+Imager.\+Tools.\+color\+Tool\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00026}{26}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}\label{class_bio_imager_1_1_tools_a427f1728d3b31a0f598e2fa899ffcd18}} 
\index{BioImager.Tools@{BioImager.Tools}!currentTool@{currentTool}}
\index{currentTool@{currentTool}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{currentTool}{currentTool}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_bio_imager_1_1_tools_1_1_tool}{Tool}} Bio\+Imager.\+Tools.\+current\+Tool\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00128}{128}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_adc01c611fe18dc0be5855d278a5611b7}\label{class_bio_imager_1_1_tools_adc01c611fe18dc0be5855d278a5611b7}} 
\index{BioImager.Tools@{BioImager.Tools}!font@{font}}
\index{font@{font}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{font}{font}}
{\footnotesize\ttfamily Font Bio\+Imager.\+Tools.\+font}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00166}{166}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_ad5301c0a0cf93f489b5c97341aa16f1c}\label{class_bio_imager_1_1_tools_ad5301c0a0cf93f489b5c97341aa16f1c}} 
\index{BioImager.Tools@{BioImager.Tools}!gEnabled@{gEnabled}}
\index{gEnabled@{gEnabled}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{gEnabled}{gEnabled}}
{\footnotesize\ttfamily bool Bio\+Imager.\+Tools.\+g\+Enabled = true\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00028}{28}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_adf1e7544227d9a9b3dc1fbbe6c1c7302}\label{class_bio_imager_1_1_tools_adf1e7544227d9a9b3dc1fbbe6c1c7302}} 
\index{BioImager.Tools@{BioImager.Tools}!rEnabled@{rEnabled}}
\index{rEnabled@{rEnabled}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{rEnabled}{rEnabled}}
{\footnotesize\ttfamily bool Bio\+Imager.\+Tools.\+r\+Enabled = true\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00027}{27}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_a50cd6db600bd8fb768ae21de544c412b}\label{class_bio_imager_1_1_tools_a50cd6db600bd8fb768ae21de544c412b}} 
\index{BioImager.Tools@{BioImager.Tools}!selectBoxSize@{selectBoxSize}}
\index{selectBoxSize@{selectBoxSize}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{selectBoxSize}{selectBoxSize}}
{\footnotesize\ttfamily float Bio\+Imager.\+Tools.\+select\+Box\+Size = ROI.\+select\+Box\+Size\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00217}{217}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_a5092d87f8a10a37dc93949d883fe80ad}\label{class_bio_imager_1_1_tools_a5092d87f8a10a37dc93949d883fe80ad}} 
\index{BioImager.Tools@{BioImager.Tools}!selectionRect@{selectionRect}}
\index{selectionRect@{selectionRect}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{selectionRect}{selectionRect}}
{\footnotesize\ttfamily \mbox{\hyperlink{_abstract_flood_filler_8cs_ac5609d8431341169243f140d51551a9a}{RectangleD}} Bio\+Imager.\+Tools.\+selection\+Rect\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00165}{165}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_ab5e99691f5f06cd112dd33f8e68ae738}\label{class_bio_imager_1_1_tools_ab5e99691f5f06cd112dd33f8e68ae738}} 
\index{BioImager.Tools@{BioImager.Tools}!selectionRectangle@{selectionRectangle}}
\index{selectionRectangle@{selectionRectangle}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{selectionRectangle}{selectionRectangle}}
{\footnotesize\ttfamily \mbox{\hyperlink{_abstract_flood_filler_8cs_a8bfa98cfc43204ff8dd7743a94a22ea7}{Rectangle}} Bio\+Imager.\+Tools.\+selection\+Rectangle\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00034}{34}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.

\mbox{\Hypertarget{class_bio_imager_1_1_tools_abc4643eeb926aa3de77caa7499f20946}\label{class_bio_imager_1_1_tools_abc4643eeb926aa3de77caa7499f20946}} 
\index{BioImager.Tools@{BioImager.Tools}!tools@{tools}}
\index{tools@{tools}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{tools}{tools}}
{\footnotesize\ttfamily Hashtable Bio\+Imager.\+Tools.\+tools = new Hashtable()\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00035}{35}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.



\doxysubsection{Property Documentation}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_a972e555095388c33d504c030756c67c5}\label{class_bio_imager_1_1_tools_a972e555095388c33d504c030756c67c5}} 
\index{BioImager.Tools@{BioImager.Tools}!DrawColor@{DrawColor}}
\index{DrawColor@{DrawColor}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{DrawColor}{DrawColor}}
{\footnotesize\ttfamily ColorS Bio\+Imager.\+Tools.\+Draw\+Color\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [get]}, {\ttfamily [set]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00129}{129}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00130         \{}
\DoxyCodeLine{00131             \textcolor{keyword}{get}}
\DoxyCodeLine{00132             \{}
\DoxyCodeLine{00133                 \textcolor{keywordflow}{return} drawColor;}
\DoxyCodeLine{00134             \}}
\DoxyCodeLine{00135             \textcolor{keyword}{set}}
\DoxyCodeLine{00136             \{}
\DoxyCodeLine{00137                 drawColor = value;}
\DoxyCodeLine{00138             \}}
\DoxyCodeLine{00139         \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_ad9832a72f8a76e1e0b2da74052737bb6}\label{class_bio_imager_1_1_tools_ad9832a72f8a76e1e0b2da74052737bb6}} 
\index{BioImager.Tools@{BioImager.Tools}!EraseColor@{EraseColor}}
\index{EraseColor@{EraseColor}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{EraseColor}{EraseColor}}
{\footnotesize\ttfamily ColorS Bio\+Imager.\+Tools.\+Erase\+Color\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [get]}, {\ttfamily [set]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00140}{140}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00141         \{}
\DoxyCodeLine{00142             \textcolor{keyword}{get}}
\DoxyCodeLine{00143             \{}
\DoxyCodeLine{00144                 \textcolor{keywordflow}{return} eraseColor;}
\DoxyCodeLine{00145             \}}
\DoxyCodeLine{00146             \textcolor{keyword}{set}}
\DoxyCodeLine{00147             \{}
\DoxyCodeLine{00148                 eraseColor = value;}
\DoxyCodeLine{00149             \}}
\DoxyCodeLine{00150         \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bio_imager_1_1_tools_a590eb41ebe2c3700c7370a89c1d3d868}\label{class_bio_imager_1_1_tools_a590eb41ebe2c3700c7370a89c1d3d868}} 
\index{BioImager.Tools@{BioImager.Tools}!StrokeWidth@{StrokeWidth}}
\index{StrokeWidth@{StrokeWidth}!BioImager.Tools@{BioImager.Tools}}
\doxysubsubsection{\texorpdfstring{StrokeWidth}{StrokeWidth}}
{\footnotesize\ttfamily int Bio\+Imager.\+Tools.\+Stroke\+Width\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [get]}, {\ttfamily [set]}}



Definition at line \mbox{\hyperlink{_tools_8cs_source_l00152}{152}} of file \mbox{\hyperlink{_tools_8cs_source}{Tools.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00153         \{}
\DoxyCodeLine{00154             \textcolor{keyword}{get}}
\DoxyCodeLine{00155             \{}
\DoxyCodeLine{00156                 \textcolor{keywordflow}{return} width;}
\DoxyCodeLine{00157             \}}
\DoxyCodeLine{00158             \textcolor{keyword}{set}}
\DoxyCodeLine{00159             \{}
\DoxyCodeLine{00160                 width = value;}
\DoxyCodeLine{00161                 \mbox{\hyperlink{class_bio_imager_1_1_app}{App}}.\mbox{\hyperlink{class_bio_imager_1_1_app_a1ec076e0bb6089a969abfd261cb41345}{tools}}.UpdateGUI();}
\DoxyCodeLine{00162             \}}
\DoxyCodeLine{00163         \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
F\+:/repos/\+Bio\+Imager/\+Bio\+Imager/\+Source/\mbox{\hyperlink{_tools_8cs}{Tools.\+cs}}\item 
F\+:/repos/\+Bio\+Imager/\+Bio\+Imager/\+Source/\mbox{\hyperlink{_tools_8_designer_8cs}{Tools.\+Designer.\+cs}}\end{DoxyCompactItemize}
