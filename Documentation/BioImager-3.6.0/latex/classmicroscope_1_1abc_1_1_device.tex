\hypertarget{classmicroscope_1_1abc_1_1_device}{}\doxysection{microscope.\+abc.\+Device Class Reference}
\label{classmicroscope_1_1abc_1_1_device}\index{microscope.abc.Device@{microscope.abc.Device}}
Inheritance diagram for microscope.\+abc.\+Device\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=7.445395cm]{classmicroscope_1_1abc_1_1_device}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
None \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a3016ccdfc0aee2a51004de9dd8b7caa9}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\item 
None \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a2ef1d1788cc5d1a708a0209f2cd5fe11}{\+\_\+\+\_\+del\+\_\+\+\_\+}} (self)
\item 
bool \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_ad7df11492cd21392cc41021e2304fe4f}{get\+\_\+is\+\_\+enabled}} (self)
\item 
None \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_add8e7f466e7a28137d6e0ceede74e15e}{disable}} (self)
\item 
None \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_ac7759ad4eb304422f07cfee215a73961}{enable}} (self)
\item 
None \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a84ae82a5c5a20f3906ccdd4229a39023}{initialize}} (self)
\item 
None \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a7e3ee3d63ee099e1a3b9df649fb28c5c}{shutdown}} (self)
\item 
None \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a0252c8e32f95c4f8c19bedc1d96c1669}{add\+\_\+setting}} (self, name, dtype, get\+\_\+func, set\+\_\+func, values, typing.\+Optional\mbox{[}typing.\+Callable\mbox{[}\mbox{[}$\,$\mbox{]}, bool\mbox{]}\mbox{]} readonly=None)
\item 
def \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a440ac6b85c3111e007f95423b17c4a98}{get\+\_\+setting}} (self, str name)
\item 
def \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a33a60cd231f8ae2c781a288a63712da0}{get\+\_\+all\+\_\+settings}} (self)
\item 
None \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_ab2c54086d9210ce21903155b84a7d379}{set\+\_\+setting}} (self, str name, value)
\item 
def \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_afe429f2c599262063f3efb9482b475b8}{describe\+\_\+setting}} (self, str name)
\item 
def \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a930dd852e501ecb229a6eda52a9fb435}{describe\+\_\+settings}} (self)
\item 
def \mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a9f30a9b6676629c3694b49686238f2a0}{update\+\_\+settings}} (self, incoming, bool init=False)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classmicroscope_1_1abc_1_1_device_a640a17ad1c1008f954cd4a1dba9b54fc}{enabled}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}A base device class. All devices should subclass this class.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{abc_8py_source_l00285}{285}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a3016ccdfc0aee2a51004de9dd8b7caa9}\label{classmicroscope_1_1abc_1_1_device_a3016ccdfc0aee2a51004de9dd8b7caa9}} 
\index{microscope.abc.Device@{microscope.abc.Device}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily  None microscope.\+abc.\+Device.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Reimplemented in \mbox{\hyperlink{classmicroscope_1_1abc_1_1_camera_aa83a5fbd2c9d16bd7af0ad180702b365}{microscope.\+abc.\+Camera}}, \mbox{\hyperlink{classmicroscope_1_1abc_1_1_deformable_mirror_a0f2a72649f44490f21a7cf00c922f2f9}{microscope.\+abc.\+Deformable\+Mirror}}, \mbox{\hyperlink{classmicroscope_1_1abc_1_1_light_source_ae9b6a53598f41b773e97ddcb2c78a0ac}{microscope.\+abc.\+Light\+Source}}, \mbox{\hyperlink{classmicroscope_1_1mirror_1_1mirao52e_1_1_mirao52e_af1ad66d2c7c1c0be7735fd50bce5b3a6}{microscope.\+mirror.\+mirao52e.\+Mirao52e}}, \mbox{\hyperlink{classmicroscope_1_1simulators_1_1_simulated_camera_a657d93b584e6915a33f4a853529330b4}{microscope.\+simulators.\+Simulated\+Camera}}, \mbox{\hyperlink{classmicroscope_1_1simulators_1_1_simulated_filter_wheel_a8d28fa9dea62317c67959411d1761d30}{microscope.\+simulators.\+Simulated\+Filter\+Wheel}}, \mbox{\hyperlink{classmicroscope_1_1simulators_1_1_simulated_light_source_aead6ae8c12f862079fe063cd7afc5754}{microscope.\+simulators.\+Simulated\+Light\+Source}}, \mbox{\hyperlink{classmicroscope_1_1stages_1_1linkam_1_1___linkam_base_a5f1b35587bf81d7f0e8959297fdc2c12}{microscope.\+stages.\+linkam.\+\_\+\+Linkam\+Base}}, \mbox{\hyperlink{classmicroscope_1_1testsuite_1_1devices_1_1_test_camera_a2affa7aa4fc988edbd7337e4a305b8f6}{microscope.\+testsuite.\+devices.\+Test\+Camera}}, \mbox{\hyperlink{classmicroscope_1_1testsuite_1_1devices_1_1_dummy_s_l_m_a5db10ad66457ee9fc4ae30c90a57b6a6}{microscope.\+testsuite.\+devices.\+Dummy\+SLM}}, \mbox{\hyperlink{classmicroscope_1_1testsuite_1_1devices_1_1_dummy_d_s_p_ae0f3f2fa24e8cb2e1858830ee90622ef}{microscope.\+testsuite.\+devices.\+Dummy\+DSP}}, \mbox{\hyperlink{classmicroscope_1_1cameras_1_1picam_1_1_pi_camera_a8958fbb797332a875b157cfc782b1012}{microscope.\+cameras.\+picam.\+Pi\+Camera}}, \mbox{\hyperlink{classmicroscope_1_1filterwheels_1_1thorlabs_1_1_thorlabs_f_w102_c_a3ca7bbe3f0d70b05046d98b172855df6}{microscope.\+filterwheels.\+thorlabs.\+Thorlabs\+FW102C}}, \mbox{\hyperlink{classmicroscope_1_1filterwheels_1_1thorlabs_1_1_thorlabs_f_w212_c_a7eb8e8dd8d386c50303ba75776f0d8b5}{microscope.\+filterwheels.\+thorlabs.\+Thorlabs\+FW212C}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1coolled_1_1___cool_l_e_d_channel_a8bb2ee58f73aa6a5849cb8f13eb82c99}{microscope.\+controllers.\+coolled.\+\_\+\+Cool\+LEDChannel}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1toptica_1_1__i_chrome_laser_ade2890811abab4f5b2f88da8c6903d97}{microscope.\+controllers.\+toptica.\+\_\+i\+Chrome\+Laser}}, \mbox{\hyperlink{classmicroscope_1_1stages_1_1ludl_1_1___ludl_stage_a60593b22f28294d31c703deeff0ec8a2}{microscope.\+stages.\+ludl.\+\_\+\+Ludl\+Stage}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1prior_1_1___pro_scan_i_i_i_filter_wheel_aca96976d948befddd223ab0291d22b6f}{microscope.\+controllers.\+prior.\+\_\+\+Pro\+Scan\+IIIFilter\+Wheel}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1lumencor_1_1___spectra_i_i_i_light_channel_af2730ad4faa3107fcf30316eac8de904}{microscope.\+controllers.\+lumencor.\+\_\+\+Spectra\+IIILight\+Channel}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1zaber_1_1___zaber_stage_a132efd79c0e6c35b8c37bb44d3f54d38}{microscope.\+controllers.\+zaber.\+\_\+\+Zaber\+Stage}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1zaber_1_1___zaber_filter_wheel_aa31d32b060ddeeb58f4760e43348fab4}{microscope.\+controllers.\+zaber.\+\_\+\+Zaber\+Filter\+Wheel}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1zaber_1_1___zaber_l_e_d_controller_aba6ef574a97cf201217437cba5c4e6e7}{microscope.\+controllers.\+zaber.\+\_\+\+Zaber\+LEDController}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1zaber_1_1___zaber_l_e_d_a07824bd1829967c05d6cbbcfa8045a43}{microscope.\+controllers.\+zaber.\+\_\+\+Zaber\+LED}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1obis_1_1_obis_laser_ad410c797adf853de41de0f960bf4a435}{microscope.\+lights.\+obis.\+Obis\+Laser}}, \mbox{\hyperlink{classmicroscope_1_1filterwheels_1_1thorlabs_1_1_thorlabs_filter_wheel_a64a509c273ee3513bfdcdf44676e0421}{microscope.\+filterwheels.\+thorlabs.\+Thorlabs\+Filter\+Wheel}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1deepstar_1_1_deepstar_laser_a31ea0e2779c37bef8bb0330c78397a5e}{microscope.\+lights.\+deepstar.\+Deepstar\+Laser}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1cobolt_1_1_cobolt_laser_a5df16a0efcf2cbfeb53211f95dd2115f}{microscope.\+lights.\+cobolt.\+Cobolt\+Laser}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1sapphire_1_1_sapphire_laser_a2070ddf488fb47671b0b27bed92c940c}{microscope.\+lights.\+sapphire.\+Sapphire\+Laser}}, \mbox{\hyperlink{classmicroscope_1_1cameras_1_1andorsdk3_1_1_andor_s_d_k3_a9720bfc2b22895ac7f97b33b6b377450}{microscope.\+cameras.\+andorsdk3.\+Andor\+SDK3}}, \mbox{\hyperlink{classmicroscope_1_1cameras_1_1atmcd_1_1_andor_atmcd_a65729938ed9e2709292a7d0a10443bad}{microscope.\+cameras.\+atmcd.\+Andor\+Atmcd}}, \mbox{\hyperlink{classmicroscope_1_1cameras_1_1pvcam_1_1_p_v_camera_ae7e84f3c29eb2a19f4a99898291d8721}{microscope.\+cameras.\+pvcam.\+PVCamera}}, \mbox{\hyperlink{classmicroscope_1_1abc_1_1_data_device_af306e90265c27e6d643978f5911b54ca}{microscope.\+abc.\+Data\+Device}}, \mbox{\hyperlink{classmicroscope_1_1abc_1_1_filter_wheel_a352dc540b23427231703a8e86e864036}{microscope.\+abc.\+Filter\+Wheel}}, \mbox{\hyperlink{classmicroscope_1_1simulators_1_1_simulated_deformable_mirror_aef6e1ffa81f8d0e719714d4bf33563e1}{microscope.\+simulators.\+Simulated\+Deformable\+Mirror}}, \mbox{\hyperlink{classmicroscope_1_1simulators_1_1stage__aware__camera_1_1_stage_aware_camera_a5fa190172f9a8c7a93053942d69aa117}{microscope.\+simulators.\+stage\+\_\+aware\+\_\+camera.\+Stage\+Aware\+Camera}}, \mbox{\hyperlink{classmicroscope_1_1testsuite_1_1test__device__server_1_1_device_with_port_ab5ad13d4949bf6572296efeedbb93e32}{microscope.\+testsuite.\+test\+\_\+device\+\_\+server.\+Device\+With\+Port}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1coolled_1_1_cool_l_e_d_ad5392bff6dba1cfc523500ab084409e3}{microscope.\+controllers.\+coolled.\+Cool\+LED}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1lumencor_1_1_spectra_i_i_i_light_engine_a87133ac484484673e0840ecf759334cd}{microscope.\+controllers.\+lumencor.\+Spectra\+IIILight\+Engine}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1toptica_1_1i_chrome_m_l_e_a658a47c6acefba5724f9175afcb5195a}{microscope.\+controllers.\+toptica.\+i\+Chrome\+MLE}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1toptica_1_1_topticai_beam_a4d9258086407024c91632f77fc37cfdc}{microscope.\+lights.\+toptica.\+Topticai\+Beam}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1prior_1_1_pro_scan_i_i_i_ae16679e15d35bb5c952d63307c9dfc5b}{microscope.\+controllers.\+prior.\+Pro\+Scan\+III}}, \mbox{\hyperlink{classmicroscope_1_1stages_1_1ludl_1_1ludl_m_c2000_a83c0fd595f5085b1dd33be594a0666c1}{microscope.\+stages.\+ludl.\+ludl\+MC2000}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1zaber_1_1_zaber_daisy_chain_a05bd3ba7d4001d04d0fe0c533cc34870}{microscope.\+controllers.\+zaber.\+Zaber\+Daisy\+Chain}}, \mbox{\hyperlink{classmicroscope_1_1mirror_1_1alpao_1_1_alpao_deformable_mirror_aec979bc9192cc907bad362250f8ad5fb}{microscope.\+mirror.\+alpao.\+Alpao\+Deformable\+Mirror}}, \mbox{\hyperlink{classmicroscope_1_1mirror_1_1bmc_1_1_b_m_c_deformable_mirror_ab416d6b06b86a75243d66685f3279edb}{microscope.\+mirror.\+bmc.\+BMCDeformable\+Mirror}}, \mbox{\hyperlink{classmicroscope_1_1testsuite_1_1devices_1_1_test_floating_device_a46322a696ed885929a41f3be8d5d9368}{microscope.\+testsuite.\+devices.\+Test\+Floating\+Device}}, \mbox{\hyperlink{classmicroscope_1_1simulators_1_1_simulated_controller_ad6dafff71e9bd58ac72c02f0d59dce03}{microscope.\+simulators.\+Simulated\+Controller}}, \mbox{\hyperlink{classmicroscope_1_1simulators_1_1_simulated_stage_a683e90d22e3de6cdf044ba3df498dec0}{microscope.\+simulators.\+Simulated\+Stage}}, \mbox{\hyperlink{classmicroscope_1_1cameras_1_1ximea_1_1_ximea_camera_a5187efcee41e91c498c4b07b9a30842c}{microscope.\+cameras.\+ximea.\+Ximea\+Camera}}, and \mbox{\hyperlink{classmicroscope_1_1stages_1_1linkam_1_1_linkam_c_m_s_af7575373fa50d5ba2d93821b09605d92}{microscope.\+stages.\+linkam.\+Linkam\+CMS}}.



Definition at line \mbox{\hyperlink{abc_8py_source_l00288}{288}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00288     \textcolor{keyword}{def }\_\_init\_\_(self) -\/> None:}
\DoxyCodeLine{00289         self.enabled = \textcolor{keyword}{False}}
\DoxyCodeLine{00290         self.\_settings: typing.Dict[str, \_Setting] = \{\}}
\DoxyCodeLine{00291 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a2ef1d1788cc5d1a708a0209f2cd5fe11}\label{classmicroscope_1_1abc_1_1_device_a2ef1d1788cc5d1a708a0209f2cd5fe11}} 
\index{microscope.abc.Device@{microscope.abc.Device}!\_\_del\_\_@{\_\_del\_\_}}
\index{\_\_del\_\_@{\_\_del\_\_}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{\_\_del\_\_()}{\_\_del\_\_()}}
{\footnotesize\ttfamily  None microscope.\+abc.\+Device.\+\_\+\+\_\+del\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Reimplemented in \mbox{\hyperlink{classmicroscope_1_1abc_1_1_data_device_a79506364a09f1a9c988b054049afc1f1}{microscope.\+abc.\+Data\+Device}}, and \mbox{\hyperlink{classmicroscope_1_1stages_1_1linkam_1_1___linkam_base_a55a843127d81f73f7ec7cf20289d24e2}{microscope.\+stages.\+linkam.\+\_\+\+Linkam\+Base}}.



Definition at line \mbox{\hyperlink{abc_8py_source_l00292}{292}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00292     \textcolor{keyword}{def }\_\_del\_\_(self) -\/> None:}
\DoxyCodeLine{00293         self.shutdown()}
\DoxyCodeLine{00294 }

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a0252c8e32f95c4f8c19bedc1d96c1669}\label{classmicroscope_1_1abc_1_1_device_a0252c8e32f95c4f8c19bedc1d96c1669}} 
\index{microscope.abc.Device@{microscope.abc.Device}!add\_setting@{add\_setting}}
\index{add\_setting@{add\_setting}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{add\_setting()}{add\_setting()}}
{\footnotesize\ttfamily  None microscope.\+abc.\+Device.\+add\+\_\+setting (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{name,  }\item[{}]{dtype,  }\item[{}]{get\+\_\+func,  }\item[{}]{set\+\_\+func,  }\item[{}]{values,  }\item[{typing.\+Optional\mbox{[}typing.\+Callable\mbox{[}\mbox{[}$\,$\mbox{]}, bool\mbox{]}\mbox{]} }]{readonly = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Add a setting definition.

Args:
    name: the setting's name.
    dtype: a data type from `"int"`, `"float"`, `"bool"`,
        `"enum"`, or `"str"` (see `DTYPES`).
    get_func: a function to get the current value.
    set_func: a function to set the value.
    values: a description of allowed values dependent on
        dtype, or function that returns a description.
    readonly: an optional function to indicate if the setting
        is readonly.  A setting may be readonly temporarily,
        so this function will return `True` or `False` to
        indicate its current state.  If set to no `None`
        (default), then its value will be dependent on the
        value of `set_func`.

A client needs some way of knowing a setting name and data
type, retrieving the current value and, if settable, a way to
retrieve allowable values, and set the value.  We store this
info in a dictionary.  I considered having a `Setting1 class
with getter, setter, etc., and adding `Setting` instances as
device attributes, but Pyro does not support dot notation to
access the functions we need (e.g. `Device.some_setting.set`),
so I'd have to write access functions, anyway.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{abc_8py_source_l00399}{399}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00407     ) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00408         \textcolor{stringliteral}{"{}"{}"{}Add a setting definition.}}
\DoxyCodeLine{00409 \textcolor{stringliteral}{}}
\DoxyCodeLine{00410 \textcolor{stringliteral}{        Args:}}
\DoxyCodeLine{00411 \textcolor{stringliteral}{            name: the setting's name.}}
\DoxyCodeLine{00412 \textcolor{stringliteral}{            dtype: a data type }\textcolor{keyword}{from} `\textcolor{stringliteral}{"{}int"{}}`, `\textcolor{stringliteral}{"{}float"{}}`, `\textcolor{stringliteral}{"{}bool"{}}`,}
\DoxyCodeLine{00413                 `\textcolor{stringliteral}{"{}enum"{}}`, \textcolor{keywordflow}{or} `\textcolor{stringliteral}{"{}str"{}}` (see `DTYPES`).}
\DoxyCodeLine{00414             get\_func: a function to get the current value.}
\DoxyCodeLine{00415             set\_func: a function to set the value.}
\DoxyCodeLine{00416             values: a description of allowed values dependent on}
\DoxyCodeLine{00417                 dtype, \textcolor{keywordflow}{or} function that returns a description.}
\DoxyCodeLine{00418             readonly: an optional function to indicate \textcolor{keywordflow}{if} the setting}
\DoxyCodeLine{00419                 \textcolor{keywordflow}{is} readonly.  A setting may be readonly temporarily,}
\DoxyCodeLine{00420                 so this function will \textcolor{keywordflow}{return} `\textcolor{keyword}{True}` \textcolor{keywordflow}{or} `\textcolor{keyword}{False}` to}
\DoxyCodeLine{00421                 indicate its current state.  If set to no `\textcolor{keywordtype}{None}`}
\DoxyCodeLine{00422                 (default), then its value will be dependent on the}
\DoxyCodeLine{00423                 value of `set\_func`.}
\DoxyCodeLine{00424 }
\DoxyCodeLine{00425         A client needs some way of knowing a setting name \textcolor{keywordflow}{and} data}
\DoxyCodeLine{00426         type, retrieving the current value \textcolor{keywordflow}{and}, \textcolor{keywordflow}{if} settable, a way to}
\DoxyCodeLine{00427         retrieve allowable values, \textcolor{keywordflow}{and} set the value.  We store this}
\DoxyCodeLine{00428         info \textcolor{keywordflow}{in} a dictionary.  I considered having a `Setting1 \textcolor{keyword}{class}}
\DoxyCodeLine{00429         \textcolor{keyword}{with} getter, setter, etc., \textcolor{keywordflow}{and} adding `Setting` instances \textcolor{keyword}{as}}
\DoxyCodeLine{00430         device attributes, but Pyro does \textcolor{keywordflow}{not} support dot notation to}
\DoxyCodeLine{00431         access the functions we need (e.g. `Device.some\_setting.set`),}
\DoxyCodeLine{00432         so I\textcolor{stringliteral}{'d have to write access functions, anyway.}}
\DoxyCodeLine{00433 \textcolor{stringliteral}{}}
\DoxyCodeLine{00434 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{00435 \textcolor{stringliteral}{        }\textcolor{keywordflow}{if} dtype \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} DTYPES:}
\DoxyCodeLine{00436             \textcolor{keywordflow}{raise} ValueError(\textcolor{stringliteral}{"{}Unsupported dtype."{}})}
\DoxyCodeLine{00437         \textcolor{keywordflow}{elif} \textcolor{keywordflow}{not} (isinstance(values, DTYPES[dtype]) \textcolor{keywordflow}{or} callable(values)):}
\DoxyCodeLine{00438             \textcolor{keywordflow}{raise} TypeError(}
\DoxyCodeLine{00439                 \textcolor{stringliteral}{"{}Invalid values type for \%s '\%s': expected function or \%s"{}}}
\DoxyCodeLine{00440                 \% (dtype, name, DTYPES[dtype])}
\DoxyCodeLine{00441             )}
\DoxyCodeLine{00442         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00443             self.\_settings[name] = \_Setting(}
\DoxyCodeLine{00444                 name, dtype, get\_func, set\_func, values, readonly}
\DoxyCodeLine{00445             )}
\DoxyCodeLine{00446 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_afe429f2c599262063f3efb9482b475b8}\label{classmicroscope_1_1abc_1_1_device_afe429f2c599262063f3efb9482b475b8}} 
\index{microscope.abc.Device@{microscope.abc.Device}!describe\_setting@{describe\_setting}}
\index{describe\_setting@{describe\_setting}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{describe\_setting()}{describe\_setting()}}
{\footnotesize\ttfamily def microscope.\+abc.\+Device.\+describe\+\_\+setting (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{str}]{name }\end{DoxyParamCaption})}

\begin{DoxyVerb}Return ordered setting descriptions as a list of dicts.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{abc_8py_source_l00476}{476}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00476     \textcolor{keyword}{def }describe\_setting(self, name: str):}
\DoxyCodeLine{00477         \textcolor{stringliteral}{"{}"{}"{}Return ordered setting descriptions as a list of dicts."{}"{}"{}}}
\DoxyCodeLine{00478         \textcolor{keywordflow}{return} self.\_settings[name].describe()}
\DoxyCodeLine{00479 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a930dd852e501ecb229a6eda52a9fb435}\label{classmicroscope_1_1abc_1_1_device_a930dd852e501ecb229a6eda52a9fb435}} 
\index{microscope.abc.Device@{microscope.abc.Device}!describe\_settings@{describe\_settings}}
\index{describe\_settings@{describe\_settings}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{describe\_settings()}{describe\_settings()}}
{\footnotesize\ttfamily def microscope.\+abc.\+Device.\+describe\+\_\+settings (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Return ordered setting descriptions as a list of dicts.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{abc_8py_source_l00480}{480}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00480     \textcolor{keyword}{def }describe\_settings(self):}
\DoxyCodeLine{00481         \textcolor{stringliteral}{"{}"{}"{}Return ordered setting descriptions as a list of dicts."{}"{}"{}}}
\DoxyCodeLine{00482         \textcolor{keywordflow}{return} [(k, v.describe()) \textcolor{keywordflow}{for} (k, v) \textcolor{keywordflow}{in} self.\_settings.items()]}
\DoxyCodeLine{00483 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_add8e7f466e7a28137d6e0ceede74e15e}\label{classmicroscope_1_1abc_1_1_device_add8e7f466e7a28137d6e0ceede74e15e}} 
\index{microscope.abc.Device@{microscope.abc.Device}!disable@{disable}}
\index{disable@{disable}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{disable()}{disable()}}
{\footnotesize\ttfamily  None microscope.\+abc.\+Device.\+disable (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Disable the device for a short period for inactivity.\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classmicroscope_1_1abc_1_1_data_device_a1ee17ca01f5f5b02d6fcbad940e4b584}{microscope.\+abc.\+Data\+Device}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1coolled_1_1___cool_l_e_d_channel_a202659d3448bb0cd46e0204a36810570}{microscope.\+controllers.\+coolled.\+\_\+\+Cool\+LEDChannel}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1lumencor_1_1___spectra_i_i_i_light_channel_a08de704864682fc88e565c97922ee0a0}{microscope.\+controllers.\+lumencor.\+\_\+\+Spectra\+IIILight\+Channel}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1cobolt_1_1_cobolt_laser_ab9154c84c3ebd43632c250df6b8c7f8a}{microscope.\+lights.\+cobolt.\+Cobolt\+Laser}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1sapphire_1_1_sapphire_laser_a158de6a68dcdafd38bfe325935639875}{microscope.\+lights.\+sapphire.\+Sapphire\+Laser}}, and \mbox{\hyperlink{classmicroscope_1_1lights_1_1toptica_1_1_topticai_beam_ace72a4800f613b245fa2f35c0683fd21}{microscope.\+lights.\+toptica.\+Topticai\+Beam}}.



Definition at line \mbox{\hyperlink{abc_8py_source_l00307}{307}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00307     \textcolor{keyword}{def }disable(self) -\/> None:}
\DoxyCodeLine{00308         \textcolor{stringliteral}{"{}"{}"{}Disable the device for a short period for inactivity."{}"{}"{}}}
\DoxyCodeLine{00309         self.\_do\_disable()}
\DoxyCodeLine{00310         self.enabled = \textcolor{keyword}{False}}
\DoxyCodeLine{00311 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_ac7759ad4eb304422f07cfee215a73961}\label{classmicroscope_1_1abc_1_1_device_ac7759ad4eb304422f07cfee215a73961}} 
\index{microscope.abc.Device@{microscope.abc.Device}!enable@{enable}}
\index{enable@{enable}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{enable()}{enable()}}
{\footnotesize\ttfamily  None microscope.\+abc.\+Device.\+enable (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Enable the device.\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classmicroscope_1_1abc_1_1_data_device_ad1a6e54ec4324cdc4bcfcb80a8d99ef8}{microscope.\+abc.\+Data\+Device}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1coolled_1_1___cool_l_e_d_channel_ada812f986a1e28bab732bc76a4eff07f}{microscope.\+controllers.\+coolled.\+\_\+\+Cool\+LEDChannel}}, \mbox{\hyperlink{classmicroscope_1_1controllers_1_1lumencor_1_1___spectra_i_i_i_light_channel_ad267aa79697c1f45df2f6bbe49772469}{microscope.\+controllers.\+lumencor.\+\_\+\+Spectra\+IIILight\+Channel}}, and \mbox{\hyperlink{classmicroscope_1_1lights_1_1toptica_1_1_topticai_beam_a6c8e9ce41dfba25d8201d0a566e9ac94}{microscope.\+lights.\+toptica.\+Topticai\+Beam}}.



Definition at line \mbox{\hyperlink{abc_8py_source_l00321}{321}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00321     \textcolor{keyword}{def }enable(self) -\/> None:}
\DoxyCodeLine{00322         \textcolor{stringliteral}{"{}"{}"{}Enable the device."{}"{}"{}}}
\DoxyCodeLine{00323         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00324             self.enabled = self.\_do\_enable()}
\DoxyCodeLine{00325         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} err:}
\DoxyCodeLine{00326             \_logger.debug(\textcolor{stringliteral}{"{}Error in \_do\_enable:"{}}, exc\_info=err)}
\DoxyCodeLine{00327 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a33a60cd231f8ae2c781a288a63712da0}\label{classmicroscope_1_1abc_1_1_device_a33a60cd231f8ae2c781a288a63712da0}} 
\index{microscope.abc.Device@{microscope.abc.Device}!get\_all\_settings@{get\_all\_settings}}
\index{get\_all\_settings@{get\_all\_settings}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{get\_all\_settings()}{get\_all\_settings()}}
{\footnotesize\ttfamily def microscope.\+abc.\+Device.\+get\+\_\+all\+\_\+settings (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Return ordered settings as a list of dicts.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{abc_8py_source_l00455}{455}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00455     \textcolor{keyword}{def }get\_all\_settings(self):}
\DoxyCodeLine{00456         \textcolor{stringliteral}{"{}"{}"{}Return ordered settings as a list of dicts."{}"{}"{}}}
\DoxyCodeLine{00457         \textcolor{comment}{\# Fetching some settings may fail depending on device state.}}
\DoxyCodeLine{00458         \textcolor{comment}{\# Report these values as 'None' and continue fetching other settings.}}
\DoxyCodeLine{00459         \textcolor{keyword}{def }catch(f):}
\DoxyCodeLine{00460             \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00461                 \textcolor{keywordflow}{return} f()}
\DoxyCodeLine{00462             \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} err:}
\DoxyCodeLine{00463                 \_logger.error(\textcolor{stringliteral}{"{}getting \%s: \%s"{}}, f.\_\_self\_\_.name, err)}
\DoxyCodeLine{00464                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}}
\DoxyCodeLine{00465 }
\DoxyCodeLine{00466         \textcolor{keywordflow}{return} \{k: catch(v.get) \textcolor{keywordflow}{for} k, v \textcolor{keywordflow}{in} self.\_settings.items()\}}
\DoxyCodeLine{00467 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_ad7df11492cd21392cc41021e2304fe4f}\label{classmicroscope_1_1abc_1_1_device_ad7df11492cd21392cc41021e2304fe4f}} 
\index{microscope.abc.Device@{microscope.abc.Device}!get\_is\_enabled@{get\_is\_enabled}}
\index{get\_is\_enabled@{get\_is\_enabled}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{get\_is\_enabled()}{get\_is\_enabled()}}
{\footnotesize\ttfamily  bool microscope.\+abc.\+Device.\+get\+\_\+is\+\_\+enabled (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{abc_8py_source_l00295}{295}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00295     \textcolor{keyword}{def }get\_is\_enabled(self) -\/> bool:}
\DoxyCodeLine{00296         \textcolor{keywordflow}{return} self.enabled}
\DoxyCodeLine{00297 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a440ac6b85c3111e007f95423b17c4a98}\label{classmicroscope_1_1abc_1_1_device_a440ac6b85c3111e007f95423b17c4a98}} 
\index{microscope.abc.Device@{microscope.abc.Device}!get\_setting@{get\_setting}}
\index{get\_setting@{get\_setting}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{get\_setting()}{get\_setting()}}
{\footnotesize\ttfamily def microscope.\+abc.\+Device.\+get\+\_\+setting (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{str}]{name }\end{DoxyParamCaption})}

\begin{DoxyVerb}Return the current value of a setting.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{abc_8py_source_l00447}{447}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00447     \textcolor{keyword}{def }get\_setting(self, name: str):}
\DoxyCodeLine{00448         \textcolor{stringliteral}{"{}"{}"{}Return the current value of a setting."{}"{}"{}}}
\DoxyCodeLine{00449         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00450             \textcolor{keywordflow}{return} self.\_settings[name].get()}
\DoxyCodeLine{00451         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} err:}
\DoxyCodeLine{00452             \_logger.error(\textcolor{stringliteral}{"{}in get\_setting(\%s):"{}}, name, exc\_info=err)}
\DoxyCodeLine{00453             \textcolor{keywordflow}{raise}}
\DoxyCodeLine{00454 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a84ae82a5c5a20f3906ccdd4229a39023}\label{classmicroscope_1_1abc_1_1_device_a84ae82a5c5a20f3906ccdd4229a39023}} 
\index{microscope.abc.Device@{microscope.abc.Device}!initialize@{initialize}}
\index{initialize@{initialize}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily  None microscope.\+abc.\+Device.\+initialize (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Initialize the device.

If devices have this method (not required, and many don't),
then they should call it as part of the initialisation, i.e.,
they should call it on their `__init__` method.\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classmicroscope_1_1cameras_1_1andorsdk3_1_1_andor_s_d_k3_ad9e11335bc97bebfce8007f3c0ab96d3}{microscope.\+cameras.\+andorsdk3.\+Andor\+SDK3}}, \mbox{\hyperlink{classmicroscope_1_1cameras_1_1atmcd_1_1_andor_atmcd_a12268ba33a8ae200310811c8a14a5607}{microscope.\+cameras.\+atmcd.\+Andor\+Atmcd}}, \mbox{\hyperlink{classmicroscope_1_1cameras_1_1picam_1_1_pi_camera_a3e6e25f9daf0f4fcb42f40474f2b45b8}{microscope.\+cameras.\+picam.\+Pi\+Camera}}, \mbox{\hyperlink{classmicroscope_1_1cameras_1_1pvcam_1_1_p_v_camera_a93229fd39170fa2f1b994c1a438375be}{microscope.\+cameras.\+pvcam.\+PVCamera}}, \mbox{\hyperlink{classmicroscope_1_1cameras_1_1ximea_1_1_ximea_camera_a808f82612986ac5d699f6f1cd69c2d8f}{microscope.\+cameras.\+ximea.\+Ximea\+Camera}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1cobolt_1_1_cobolt_laser_a12000ac844b3a356ec150e76af96668f}{microscope.\+lights.\+cobolt.\+Cobolt\+Laser}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1obis_1_1_obis_laser_a5344e5fbdb194d232cafdc4bf0540ad2}{microscope.\+lights.\+obis.\+Obis\+Laser}}, \mbox{\hyperlink{classmicroscope_1_1lights_1_1sapphire_1_1_sapphire_laser_a2d61a8dc271e5c3d23d15a4852e0c14d}{microscope.\+lights.\+sapphire.\+Sapphire\+Laser}}, and \mbox{\hyperlink{classmicroscope_1_1testsuite_1_1devices_1_1_test_floating_device_abb8d15f3acfb2ccc13ada1dd0d8381f4}{microscope.\+testsuite.\+devices.\+Test\+Floating\+Device}}.



Definition at line \mbox{\hyperlink{abc_8py_source_l00339}{339}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00339     \textcolor{keyword}{def }initialize(self) -\/> None:}
\DoxyCodeLine{00340         \textcolor{stringliteral}{"{}"{}"{}Initialize the device.}}
\DoxyCodeLine{00341 \textcolor{stringliteral}{}}
\DoxyCodeLine{00342 \textcolor{stringliteral}{        If devices have this method (}\textcolor{keywordflow}{not} required, \textcolor{keywordflow}{and} many don\textcolor{stringliteral}{'t),}}
\DoxyCodeLine{00343 \textcolor{stringliteral}{        then they should call it }\textcolor{keyword}{as} part of the initialisation, i.e.,}
\DoxyCodeLine{00344         they should call it on their `\_\_init\_\_` method.}
\DoxyCodeLine{00345 }
\DoxyCodeLine{00346         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00347 \textcolor{stringliteral}{        }\textcolor{keywordflow}{pass}}
\DoxyCodeLine{00348 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_ab2c54086d9210ce21903155b84a7d379}\label{classmicroscope_1_1abc_1_1_device_ab2c54086d9210ce21903155b84a7d379}} 
\index{microscope.abc.Device@{microscope.abc.Device}!set\_setting@{set\_setting}}
\index{set\_setting@{set\_setting}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{set\_setting()}{set\_setting()}}
{\footnotesize\ttfamily  None microscope.\+abc.\+Device.\+set\+\_\+setting (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{str}]{name,  }\item[{}]{value }\end{DoxyParamCaption})}

\begin{DoxyVerb}Set a setting.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{abc_8py_source_l00468}{468}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00468     \textcolor{keyword}{def }set\_setting(self, name: str, value) -\/> \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00469         \textcolor{stringliteral}{"{}"{}"{}Set a setting."{}"{}"{}}}
\DoxyCodeLine{00470         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00471             self.\_settings[name].set(value)}
\DoxyCodeLine{00472         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} err:}
\DoxyCodeLine{00473             \_logger.error(\textcolor{stringliteral}{"{}in set\_setting(\%s):"{}}, name, exc\_info=err)}
\DoxyCodeLine{00474             \textcolor{keywordflow}{raise}}
\DoxyCodeLine{00475 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a7e3ee3d63ee099e1a3b9df649fb28c5c}\label{classmicroscope_1_1abc_1_1_device_a7e3ee3d63ee099e1a3b9df649fb28c5c}} 
\index{microscope.abc.Device@{microscope.abc.Device}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily  None microscope.\+abc.\+Device.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Shutdown the device.

Disable and disconnect the device.  This method should be
called before destructing the device object, to ensure that
the device is actually shutdown.

After `shutdown`, the device object is no longer usable and
calling any other method is undefined behaviour.  The only
exception `shutdown` itself which can be called consecutively,
and after the first time will have no effect.

A device object that has been shutdown can't be reinitialised.
Instead of reusing the object, a new one should be created
instead.  This means that `shutdown` will leave the device in
a state that it can be reconnected.

.. code-block:: python

    device = SomeDevice()
    device.shutdown()

    # Multiple calls to shutdown are OK
    device.shutdown()
    device.shutdown()

    # After shutdown, everything else is undefined behaviour.
    device.enable()  # undefined behaviour
    device.get_setting("speed")  # undefined behaviour

    # To reinitialise the device, construct a new instance.
    device = SomeDevice()


.. note::

    While `__del__` calls `shutdown`, one should not rely on
    it.  Python does not guarante that `__del__` will be
    called when the interpreter exits so if `shutdown` is not
    called explicitely, the devices might not be shutdown.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{abc_8py_source_l00349}{349}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00349     \textcolor{keyword}{def }shutdown(self) -\/> None:}
\DoxyCodeLine{00350         \textcolor{stringliteral}{"{}"{}"{}Shutdown the device.}}
\DoxyCodeLine{00351 \textcolor{stringliteral}{}}
\DoxyCodeLine{00352 \textcolor{stringliteral}{        Disable }\textcolor{keywordflow}{and} disconnect the device.  This method should be}
\DoxyCodeLine{00353         called before destructing the device object, to ensure that}
\DoxyCodeLine{00354         the device \textcolor{keywordflow}{is} actually shutdown.}
\DoxyCodeLine{00355 }
\DoxyCodeLine{00356         After `shutdown`, the device object \textcolor{keywordflow}{is} no longer usable \textcolor{keywordflow}{and}}
\DoxyCodeLine{00357         calling any other method \textcolor{keywordflow}{is} undefined behaviour.  The only}
\DoxyCodeLine{00358         exception `shutdown` itself which can be called consecutively,}
\DoxyCodeLine{00359         \textcolor{keywordflow}{and} after the first time will have no effect.}
\DoxyCodeLine{00360 }
\DoxyCodeLine{00361         A device object that has been shutdown can\textcolor{stringliteral}{'t be reinitialised.}}
\DoxyCodeLine{00362 \textcolor{stringliteral}{        Instead of reusing the object, a new one should be created}}
\DoxyCodeLine{00363 \textcolor{stringliteral}{        instead.  This means that `shutdown` will leave the device }\textcolor{keywordflow}{in}}
\DoxyCodeLine{00364         a state that it can be reconnected.}
\DoxyCodeLine{00365 }
\DoxyCodeLine{00366         .. code-\/block:: python}
\DoxyCodeLine{00367 }
\DoxyCodeLine{00368             device = SomeDevice()}
\DoxyCodeLine{00369             device.shutdown()}
\DoxyCodeLine{00370 }
\DoxyCodeLine{00371             \textcolor{comment}{\# Multiple calls to shutdown are OK}}
\DoxyCodeLine{00372             device.shutdown()}
\DoxyCodeLine{00373             device.shutdown()}
\DoxyCodeLine{00374 }
\DoxyCodeLine{00375             \textcolor{comment}{\# After shutdown, everything else is undefined behaviour.}}
\DoxyCodeLine{00376             device.enable()  \textcolor{comment}{\# undefined behaviour}}
\DoxyCodeLine{00377             device.get\_setting(\textcolor{stringliteral}{"{}speed"{}})  \textcolor{comment}{\# undefined behaviour}}
\DoxyCodeLine{00378 }
\DoxyCodeLine{00379             \textcolor{comment}{\# To reinitialise the device, construct a new instance.}}
\DoxyCodeLine{00380             device = SomeDevice()}
\DoxyCodeLine{00381 }
\DoxyCodeLine{00382 }
\DoxyCodeLine{00383         .. note::}
\DoxyCodeLine{00384 }
\DoxyCodeLine{00385             While `\_\_del\_\_` calls `shutdown`, one should \textcolor{keywordflow}{not} rely on}
\DoxyCodeLine{00386             it.  Python does \textcolor{keywordflow}{not} guarante that `\_\_del\_\_` will be}
\DoxyCodeLine{00387             called when the interpreter exits so \textcolor{keywordflow}{if} `shutdown` \textcolor{keywordflow}{is} \textcolor{keywordflow}{not}}
\DoxyCodeLine{00388             called explicitely, the devices might \textcolor{keywordflow}{not} be shutdown.}
\DoxyCodeLine{00389 }
\DoxyCodeLine{00390         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00391 \textcolor{stringliteral}{        }\textcolor{keywordflow}{try}:}
\DoxyCodeLine{00392             self.disable()}
\DoxyCodeLine{00393         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:}
\DoxyCodeLine{00394             \_logger.warning(\textcolor{stringliteral}{"{}Exception in disable() during shutdown: \%s"{}}, e)}
\DoxyCodeLine{00395         \_logger.info(\textcolor{stringliteral}{"{}Shutting down ... ... ..."{}})}
\DoxyCodeLine{00396         self.\_do\_shutdown()}
\DoxyCodeLine{00397         \_logger.info(\textcolor{stringliteral}{"{}... ... ... ... shut down completed."{}})}
\DoxyCodeLine{00398 }

\end{DoxyCode}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a9f30a9b6676629c3694b49686238f2a0}\label{classmicroscope_1_1abc_1_1_device_a9f30a9b6676629c3694b49686238f2a0}} 
\index{microscope.abc.Device@{microscope.abc.Device}!update\_settings@{update\_settings}}
\index{update\_settings@{update\_settings}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{update\_settings()}{update\_settings()}}
{\footnotesize\ttfamily def microscope.\+abc.\+Device.\+update\+\_\+settings (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{incoming,  }\item[{bool }]{init = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update settings based on dict of settings and values.\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classmicroscope_1_1abc_1_1_data_device_a307a47932192c807d0501bb0a30d9a37}{microscope.\+abc.\+Data\+Device}}.



Definition at line \mbox{\hyperlink{abc_8py_source_l00484}{484}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00484     \textcolor{keyword}{def }update\_settings(self, incoming, init: bool = \textcolor{keyword}{False}):}
\DoxyCodeLine{00485         \textcolor{stringliteral}{"{}"{}"{}Update settings based on dict of settings and values."{}"{}"{}}}
\DoxyCodeLine{00486         \textcolor{keywordflow}{if} init:}
\DoxyCodeLine{00487             \textcolor{comment}{\# Assume nothing about state: set everything.}}
\DoxyCodeLine{00488             my\_keys = set(self.\_settings.keys())}
\DoxyCodeLine{00489             their\_keys = set(incoming.keys())}
\DoxyCodeLine{00490             update\_keys = my\_keys \& their\_keys}
\DoxyCodeLine{00491             \textcolor{keywordflow}{if} update\_keys != my\_keys:}
\DoxyCodeLine{00492                 missing = \textcolor{stringliteral}{"{}, "{}}.join([k \textcolor{keywordflow}{for} k \textcolor{keywordflow}{in} my\_keys -\/ their\_keys])}
\DoxyCodeLine{00493                 msg = (}
\DoxyCodeLine{00494                     \textcolor{stringliteral}{"{}update\_settings init=True but missing keys: \%s."{}} \% missing}
\DoxyCodeLine{00495                 )}
\DoxyCodeLine{00496                 \_logger.debug(msg)}
\DoxyCodeLine{00497                 \textcolor{keywordflow}{raise} Exception(msg)}
\DoxyCodeLine{00498         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00499             \textcolor{comment}{\# Only update changed values.}}
\DoxyCodeLine{00500             my\_keys = set(self.\_settings.keys())}
\DoxyCodeLine{00501             their\_keys = set(incoming.keys())}
\DoxyCodeLine{00502             update\_keys = set(}
\DoxyCodeLine{00503                 key}
\DoxyCodeLine{00504                 \textcolor{keywordflow}{for} key \textcolor{keywordflow}{in} my\_keys \& their\_keys}
\DoxyCodeLine{00505                 \textcolor{keywordflow}{if} self.get\_setting(key) != incoming[key]}
\DoxyCodeLine{00506             )}
\DoxyCodeLine{00507         results = \{\}}
\DoxyCodeLine{00508         \textcolor{comment}{\# Update values.}}
\DoxyCodeLine{00509         \textcolor{keywordflow}{for} key \textcolor{keywordflow}{in} update\_keys:}
\DoxyCodeLine{00510             \textcolor{keywordflow}{if} key \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} my\_keys \textcolor{keywordflow}{or} \textcolor{keywordflow}{not} self.\_settings[key].set:}
\DoxyCodeLine{00511                 \textcolor{comment}{\# Setting not recognised or no set function implemented}}
\DoxyCodeLine{00512                 results[key] = NotImplemented}
\DoxyCodeLine{00513                 update\_keys.remove(key)}
\DoxyCodeLine{00514                 \textcolor{keywordflow}{continue}}
\DoxyCodeLine{00515             \textcolor{keywordflow}{if} self.\_settings[key].readonly():}
\DoxyCodeLine{00516                 \textcolor{keywordflow}{continue}}
\DoxyCodeLine{00517             self.\_settings[key].set(incoming[key])}
\DoxyCodeLine{00518         \textcolor{comment}{\# Read back values in second loop.}}
\DoxyCodeLine{00519         \textcolor{keywordflow}{for} key \textcolor{keywordflow}{in} update\_keys:}
\DoxyCodeLine{00520             results[key] = self.\_settings[key].get()}
\DoxyCodeLine{00521         \textcolor{keywordflow}{return} results}
\DoxyCodeLine{00522 }
\DoxyCodeLine{00523 }

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classmicroscope_1_1abc_1_1_device_a640a17ad1c1008f954cd4a1dba9b54fc}\label{classmicroscope_1_1abc_1_1_device_a640a17ad1c1008f954cd4a1dba9b54fc}} 
\index{microscope.abc.Device@{microscope.abc.Device}!enabled@{enabled}}
\index{enabled@{enabled}!microscope.abc.Device@{microscope.abc.Device}}
\doxysubsubsection{\texorpdfstring{enabled}{enabled}}
{\footnotesize\ttfamily microscope.\+abc.\+Device.\+enabled}



Definition at line \mbox{\hyperlink{abc_8py_source_l00289}{289}} of file \mbox{\hyperlink{abc_8py_source}{abc.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
F\+:/repos/\+Bio\+Imager/\+Bio\+Imager/\+Python\+Microscope/microscope/\mbox{\hyperlink{abc_8py}{abc.\+py}}\end{DoxyCompactItemize}
